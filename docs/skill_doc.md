# Skill 技能库 📚(SKILL) 使用说明文档

**文档更新时间：2026年1月28日**

Anywhere 引入了对 **SKILL** 的深度支持，旨在让 AI “学会”特定的工作流程。如果说 MCP 是 AI 的“手”（赋予操作能力），那么 Skill 就是 AI 的“秘籍”或“SOP”（标准作业程序）。

通过 Skill，您可以将复杂的任务（如：代码审查规范、季度报告模板、Git 提交规范）封装成技能包。AI 在对话中按需查阅并执行，无需每次重复输入冗长的 Prompt。

---

## 1. 核心原理

### 1.1 渐进式披露 (Progressive Disclosure)

Anywhere 的 Skill 设计遵循“渐进式披露”原则，极大节省了 Token 并减少了对 AI 上下文的干扰。

* **启用阶段**：在对话中启用 Skill 后，AI 只会知道技能的**名称**和**简介**（例如：“Git提交助手：用于生成符合 Angular 规范的提交信息”）。
* **执行阶段**：当 AI 判定当前任务需要使用该技能时，它会主动发起调用。此时，Anywhere 才会将技能的**完整详细指令 (Instructions)** 以及关联的**文件资产**注入到对话上下文中。

### 1.2 本地化存储

Skill 是完全**本地化**的。

* **存储位置**：在「Skill 技能库 📚」右下角的 `选择目录` 中配置。
* **不同步**：由于不同设备的环境（路径、工具链）可能不同，WebDAV **不会同步** Skill 文件。请在每台设备上分别配置适合该环境的技能库。

---

## 2. 目录结构规范 (重要)

Skill 的存储基于文件系统。请务必按照以下规范组织您的目录。

**正确结构示例：**

```text
D:\skills\  <-- 在设置中选择此目录（父目录）
│
├── git-commit\      <-- 具体的 Skill (文件夹名即为 ID)
│   ├── SKILL.md     <-- 核心定义文件 (必须)
│   ├── styles.css   <-- (可选) 附件文件，AI 可读取
│   └── rules.json   <-- (可选) 附件文件，AI 可读取
│   └── scripts\     <-- (可选) 脚本文件，AI 可执行
│
└── code-review\
    └── SKILL.md
```

**⚠️ 注意事项：**

1. **路径选择**：在 Anywhere 中设置路径时，请选择**包含所有 Skill 文件夹的父目录**（如上图的 `D:\skills`），而**不是**某个具体技能的内部目录。
2. **SKILL.md**：这是技能的入口文件，必须存在。它包含了元数据（Frontmatter）和具体的指令内容。

---

## 3. 创建与编辑 Skill

### 3.1 界面操作

点击界面底部的 **“+ 新增技能”**，Anywhere 提供了可视化的编辑器。

* **基本信息**：填写名称、描述。
* **详细指令**：这是 AI 执行任务时遵循的 SOP。支持 Markdown。
* **文件管理**：您可以上传参考文档、代码片段、配置模板等文件到技能包中。AI 在执行时可以调用 `read_file` 工具读取这些内容。

### 3.2 高级配置：SKILL.md 详解

如果您喜欢直接编辑文件，可以手动修改 `SKILL.md`。头部采用 YAML Frontmatter 格式：

```markdown
---
name: Git 提交助手           # 技能显示名称
description: 生成标准提交信息  # 给 AI 看的简介
disable-model-invocation: false # 是否禁用
context: fork               # 模式：normal (普通) | fork (子智能体)
allowed-tools: [read_file]  # 权限控制：仅允许使用的 MCP 工具
---

# 这里开始写详细指令 (SOP)
你是一个 Git 专家。请根据用户的代码变更，生成符合 Conventional Commits 规范的提交信息。
格式要求：<type>(<scope>): <subject>
...
```

### 3.3 拖拽导入

Anywhere 支持极速导入：

* 将包含 `SKILL.md` 的文件夹直接拖入 Anywhere 的 Skill 编辑弹窗，即可自动解析并填充内容。

![img](..\image\skill下载示例.gif)

![img](..\image\拖拽上传skill.png)

---

## 4. 运行模式

Skill 支持两种运行模式，适用于不同复杂度的任务：

### 🔹 普通模式 (Direct Mode)

* **机制**：将指令直接注入当前对话，由当前对话的主 AI 执行。
* **适用**：简单的文本处理、格式化、问答任务。
* **优点**：响应快，上下文连贯。

### 🔸 子智能体模式 (Sub-Agent Mode / Fork)

* **机制**：Anywhere 会启动一个独立的**子智能体**（后台的一个新 AI 线程）来执行该任务。主 AI 会“等待”子智能体完成，并接收最终结果。
* **适用**：复杂任务、需要多步推理、需要大量调用工具的任务（如：爬取网页并总结、重构代码并运行测试）。
* **优点**：
  * **上下文隔离**：子智能体的繁琐思考过程（如报错重试、中间步骤）不会污染主对话的上下文。
  * **专注**：子智能体只专注于完成特定任务。
  * **权限控制**：您可以为子智能体指定只允许使用特定的 MCP 工具（如只允许读文件，不允许删文件）。

---

## 5. 常见问题 (FAQ)

**Q1: 为什么启用了 Skill，AI 却说“我不知道怎么做”？**

> **A:**
>
> 1. 确保 Skill 处于“启用”状态。
> 2. 确保您已在对话输入框下方的 📕 图标中勾选了该 Skill。
> 3. **关键点**：Skill 往往依赖 **MCP 工具**（尤其是 `read_file`、`sub_agent`）。请务必在“MCP 服务”页面启用所有**内置服务**，否则 AI 只有“脑子”没有“手”，无法读取技能里的文件或执行操作。

**Q2: 可以在 Skill 里使用变量吗？**

> **A:** 可以。Anywhere 支持简单的变量替换。
>
> * `$ARGUMENTS`：AI 调用技能时传入的参数。
> * `${CLAUDE_SESSION_ID}`：生成唯一的会话 ID。

**Q3: 如何让 AI 自动执行 Skill？**

> **A:** 在创建快捷助手时，您可以在“快捷助手 -> 高级集成 -> 默认 Skill”中绑定技能。这样打开该助手窗口时，技能会自动挂载，您只需说“执行代码审查”，AI 就会自动触发。

**Q4: 子智能体 (Sub-Agent) 执行时卡住了怎么办？**

> **A:** 子智能体有最大步数限制（默认 20 步），防止死循环。如果任务过于复杂导致超时，主 AI 会收到部分结果的报告。您可以在 Skill 配置中设置更高的 `planning_level`（高）或自定义步数。

**Q5: 为什么之前用的好好的，今天突然发现对话界面空了，技能界面也空了？**

> **A:** 放心，不会删除本地文件。不同设备的本地路径一般不同，因此**本地对话的存储路径配置**和**技能库的存储路径**为了避免utools自动云同步带来不便使用设备ID对该类配置进行隔离，如果设备ID被修改，相关配置会读取失败导致需要重新被指。
>

---

**如需更多帮助，请访问我们的开源社区或联系开发者。祝您使用愉快！顺便求个Star🌟>.Q**

[GITHUB开源项目 AI Anywhere](https://github.com/Komorebi-yaodong/Anywhere)
QQ群：1065512489
