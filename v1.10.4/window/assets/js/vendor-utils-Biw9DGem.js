var fr={};var Es={2:r=>{function e(s,o,i){s instanceof RegExp&&(s=t(s,i)),o instanceof RegExp&&(o=t(o,i));var l=n(s,o,i);return l&&{start:l[0],end:l[1],pre:i.slice(0,l[0]),body:i.slice(l[0]+s.length,l[1]),post:i.slice(l[1]+o.length)}}function t(s,o){var i=o.match(s);return i?i[0]:null}function n(s,o,i){var l,f,c,a,h,u=i.indexOf(s),g=i.indexOf(o,u+1),p=u;if(u>=0&&g>0){for(l=[],c=i.length;p>=0&&!h;)p==u?(l.push(p),u=i.indexOf(s,p+1)):l.length==1?h=[l.pop(),g]:((f=l.pop())<c&&(c=f,a=g),g=i.indexOf(o,p+1)),p=u<g&&u>=0?u:g;l.length&&(h=[c,a])}return h}r.exports=e,e.range=n},101:function(r,e,t){var n;r=t.nmd(r),(function(s){r&&r.exports,typeof global=="object"&&global;var o=function(a){this.message=a};(o.prototype=new Error).name="InvalidCharacterError";var i=function(a){throw new o(a)},l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=/[\t\n\f\r ]/g,c={encode:function(a){a=String(a),/[^\0-\xFF]/.test(a)&&i("The string to be encoded contains characters outside of the Latin1 range.");for(var h,u,g,p,m=a.length%3,v="",_=-1,d=a.length-m;++_<d;)h=a.charCodeAt(_)<<16,u=a.charCodeAt(++_)<<8,g=a.charCodeAt(++_),v+=l.charAt((p=h+u+g)>>18&63)+l.charAt(p>>12&63)+l.charAt(p>>6&63)+l.charAt(63&p);return m==2?(h=a.charCodeAt(_)<<8,u=a.charCodeAt(++_),v+=l.charAt((p=h+u)>>10)+l.charAt(p>>4&63)+l.charAt(p<<2&63)+"="):m==1&&(p=a.charCodeAt(_),v+=l.charAt(p>>2)+l.charAt(p<<4&63)+"=="),v},decode:function(a){var h=(a=String(a).replace(f,"")).length;h%4==0&&(h=(a=a.replace(/==?$/,"")).length),(h%4==1||/[^+a-zA-Z0-9/]/.test(a))&&i("Invalid character: the string to be decoded is not correctly encoded.");for(var u,g,p=0,m="",v=-1;++v<h;)g=l.indexOf(a.charAt(v)),u=p%4?64*u+g:g,p++%4&&(m+=String.fromCharCode(255&u>>(-2*p&6)));return m},version:"1.0.0"};(n=function(){return c}.call(e,t,e,r))===void 0||(r.exports=n)})()},172:(r,e)=>{e.d=function(t){if(!t)return 0;for(var n=(t=t.toString()).length,s=t.length;s--;){var o=t.charCodeAt(s);56320<=o&&o<=57343&&s--,127<o&&o<=2047?n++:2047<o&&o<=65535&&(n+=2)}return n}},526:r=>{var e={utf8:{stringToBytes:function(t){return e.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(e.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var n=[],s=0;s<t.length;s++)n.push(255&t.charCodeAt(s));return n},bytesToString:function(t){for(var n=[],s=0;s<t.length;s++)n.push(String.fromCharCode(t[s]));return n.join("")}}};r.exports=e},298:r=>{var e,t;e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t={rotl:function(n,s){return n<<s|n>>>32-s},rotr:function(n,s){return n<<32-s|n>>>s},endian:function(n){if(n.constructor==Number)return 16711935&t.rotl(n,8)|4278255360&t.rotl(n,24);for(var s=0;s<n.length;s++)n[s]=t.endian(n[s]);return n},randomBytes:function(n){for(var s=[];n>0;n--)s.push(Math.floor(256*Math.random()));return s},bytesToWords:function(n){for(var s=[],o=0,i=0;o<n.length;o++,i+=8)s[i>>>5]|=n[o]<<24-i%32;return s},wordsToBytes:function(n){for(var s=[],o=0;o<32*n.length;o+=8)s.push(n[o>>>5]>>>24-o%32&255);return s},bytesToHex:function(n){for(var s=[],o=0;o<n.length;o++)s.push((n[o]>>>4).toString(16)),s.push((15&n[o]).toString(16));return s.join("")},hexToBytes:function(n){for(var s=[],o=0;o<n.length;o+=2)s.push(parseInt(n.substr(o,2),16));return s},bytesToBase64:function(n){for(var s=[],o=0;o<n.length;o+=3)for(var i=n[o]<<16|n[o+1]<<8|n[o+2],l=0;l<4;l++)8*o+6*l<=8*n.length?s.push(e.charAt(i>>>6*(3-l)&63)):s.push("=");return s.join("")},base64ToBytes:function(n){n=n.replace(/[^A-Z0-9+\/]/gi,"");for(var s=[],o=0,i=0;o<n.length;i=++o%4)i!=0&&s.push((e.indexOf(n.charAt(o-1))&Math.pow(2,-2*i+8)-1)<<2*i|e.indexOf(n.charAt(o))>>>6-2*i);return s}},r.exports=t},635:(r,e,t)=>{const n=t(31),s=t(338),o=t(221);r.exports={XMLParser:s,XMLValidator:n,XMLBuilder:o}},118:r=>{r.exports=function(e){return typeof e=="function"?e:Array.isArray(e)?t=>{for(const n of e)if(typeof n=="string"&&t===n||n instanceof RegExp&&n.test(t))return!0}:()=>!1}},705:(r,e)=>{const t=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n="["+t+"]["+t+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",s=new RegExp("^"+n+"$");e.isExist=function(o){return o!==void 0},e.isEmptyObject=function(o){return Object.keys(o).length===0},e.merge=function(o,i,l){if(i){const f=Object.keys(i),c=f.length;for(let a=0;a<c;a++)o[f[a]]=l==="strict"?[i[f[a]]]:i[f[a]]}},e.getValue=function(o){return e.isExist(o)?o:""},e.isName=function(o){return s.exec(o)!=null},e.getAllMatches=function(o,i){const l=[];let f=i.exec(o);for(;f;){const c=[];c.startIndex=i.lastIndex-f[0].length;const a=f.length;for(let h=0;h<a;h++)c.push(f[h]);l.push(c),f=i.exec(o)}return l},e.nameRegexp=n},31:(r,e,t)=>{const n=t(705),s={allowBooleanAttributes:!1,unpairedTags:[]};function o(d){return d===" "||d==="	"||d===`
`||d==="\r"}function i(d,y){const A=y;for(;y<d.length;y++)if(!(d[y]!="?"&&d[y]!=" ")){const C=d.substr(A,y-A);if(y>5&&C==="xml")return p("InvalidXml","XML declaration allowed only at the start of the document.",v(d,y));if(d[y]=="?"&&d[y+1]==">"){y++;break}}return y}function l(d,y){if(d.length>y+5&&d[y+1]==="-"&&d[y+2]==="-"){for(y+=3;y<d.length;y++)if(d[y]==="-"&&d[y+1]==="-"&&d[y+2]===">"){y+=2;break}}else if(d.length>y+8&&d[y+1]==="D"&&d[y+2]==="O"&&d[y+3]==="C"&&d[y+4]==="T"&&d[y+5]==="Y"&&d[y+6]==="P"&&d[y+7]==="E"){let A=1;for(y+=8;y<d.length;y++)if(d[y]==="<")A++;else if(d[y]===">"&&(A--,A===0))break}else if(d.length>y+9&&d[y+1]==="["&&d[y+2]==="C"&&d[y+3]==="D"&&d[y+4]==="A"&&d[y+5]==="T"&&d[y+6]==="A"&&d[y+7]==="["){for(y+=8;y<d.length;y++)if(d[y]==="]"&&d[y+1]==="]"&&d[y+2]===">"){y+=2;break}}return y}e.validate=function(d,y){y=Object.assign({},s,y);const A=[];let C=!1,w=!1;d[0]==="\uFEFF"&&(d=d.substr(1));for(let S=0;S<d.length;S++)if(d[S]==="<"&&d[S+1]==="?"){if(S+=2,S=i(d,S),S.err)return S}else{if(d[S]!=="<"){if(o(d[S]))continue;return p("InvalidChar","char '"+d[S]+"' is not expected.",v(d,S))}{let I=S;if(S++,d[S]==="!"){S=l(d,S);continue}{let D=!1;d[S]==="/"&&(D=!0,S++);let L="";for(;S<d.length&&d[S]!==">"&&d[S]!==" "&&d[S]!=="	"&&d[S]!==`
`&&d[S]!=="\r";S++)L+=d[S];if(L=L.trim(),L[L.length-1]==="/"&&(L=L.substring(0,L.length-1),S--),R=L,!n.isName(R)){let z;return z=L.trim().length===0?"Invalid space after '<'.":"Tag '"+L+"' is an invalid name.",p("InvalidTag",z,v(d,S))}const H=a(d,S);if(H===!1)return p("InvalidAttr","Attributes for '"+L+"' have open quote.",v(d,S));let O=H.value;if(S=H.index,O[O.length-1]==="/"){const z=S-O.length;O=O.substring(0,O.length-1);const Y=u(O,y);if(Y!==!0)return p(Y.err.code,Y.err.msg,v(d,z+Y.err.line));C=!0}else if(D){if(!H.tagClosed)return p("InvalidTag","Closing tag '"+L+"' doesn't have proper closing.",v(d,S));if(O.trim().length>0)return p("InvalidTag","Closing tag '"+L+"' can't have attributes or invalid starting.",v(d,I));if(A.length===0)return p("InvalidTag","Closing tag '"+L+"' has not been opened.",v(d,I));{const z=A.pop();if(L!==z.tagName){let Y=v(d,z.tagStartPos);return p("InvalidTag","Expected closing tag '"+z.tagName+"' (opened in line "+Y.line+", col "+Y.col+") instead of closing tag '"+L+"'.",v(d,I))}A.length==0&&(w=!0)}}else{const z=u(O,y);if(z!==!0)return p(z.err.code,z.err.msg,v(d,S-O.length+z.err.line));if(w===!0)return p("InvalidXml","Multiple possible root nodes found.",v(d,S));y.unpairedTags.indexOf(L)!==-1||A.push({tagName:L,tagStartPos:I}),C=!0}for(S++;S<d.length;S++)if(d[S]==="<"){if(d[S+1]==="!"){S++,S=l(d,S);continue}if(d[S+1]!=="?")break;if(S=i(d,++S),S.err)return S}else if(d[S]==="&"){const z=g(d,S);if(z==-1)return p("InvalidChar","char '&' is not expected.",v(d,S));S=z}else if(w===!0&&!o(d[S]))return p("InvalidXml","Extra text at the end",v(d,S));d[S]==="<"&&S--}}}var R;return C?A.length==1?p("InvalidTag","Unclosed tag '"+A[0].tagName+"'.",v(d,A[0].tagStartPos)):!(A.length>0)||p("InvalidXml","Invalid '"+JSON.stringify(A.map((S=>S.tagName)),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):p("InvalidXml","Start tag expected.",1)};const f='"',c="'";function a(d,y){let A="",C="",w=!1;for(;y<d.length;y++){if(d[y]===f||d[y]===c)C===""?C=d[y]:C!==d[y]||(C="");else if(d[y]===">"&&C===""){w=!0;break}A+=d[y]}return C===""&&{value:A,index:y,tagClosed:w}}const h=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function u(d,y){const A=n.getAllMatches(d,h),C={};for(let w=0;w<A.length;w++){if(A[w][1].length===0)return p("InvalidAttr","Attribute '"+A[w][2]+"' has no space in starting.",_(A[w]));if(A[w][3]!==void 0&&A[w][4]===void 0)return p("InvalidAttr","Attribute '"+A[w][2]+"' is without value.",_(A[w]));if(A[w][3]===void 0&&!y.allowBooleanAttributes)return p("InvalidAttr","boolean attribute '"+A[w][2]+"' is not allowed.",_(A[w]));const R=A[w][2];if(!m(R))return p("InvalidAttr","Attribute '"+R+"' is an invalid name.",_(A[w]));if(C.hasOwnProperty(R))return p("InvalidAttr","Attribute '"+R+"' is repeated.",_(A[w]));C[R]=1}return!0}function g(d,y){if(d[++y]===";")return-1;if(d[y]==="#")return(function(C,w){let R=/\d/;for(C[w]==="x"&&(w++,R=/[\da-fA-F]/);w<C.length;w++){if(C[w]===";")return w;if(!C[w].match(R))break}return-1})(d,++y);let A=0;for(;y<d.length;y++,A++)if(!(d[y].match(/\w/)&&A<20)){if(d[y]===";")break;return-1}return y}function p(d,y,A){return{err:{code:d,msg:y,line:A.line||A,col:A.col}}}function m(d){return n.isName(d)}function v(d,y){const A=d.substring(0,y).split(/\r?\n/);return{line:A.length,col:A[A.length-1].length+1}}function _(d){return d.startIndex+d[1].length}},221:(r,e,t)=>{const n=t(87),s=t(118),o={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(a,h){return h},attributeValueProcessor:function(a,h){return h},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function i(a){this.options=Object.assign({},o,a),this.options.ignoreAttributes===!0||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=s(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=c),this.processTextOrObjNode=l,this.options.format?(this.indentate=f,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function l(a,h,u,g){const p=this.j2x(a,u+1,g.concat(h));return a[this.options.textNodeName]!==void 0&&Object.keys(a).length===1?this.buildTextValNode(a[this.options.textNodeName],h,p.attrStr,u):this.buildObjectNode(p.val,h,p.attrStr,u)}function f(a){return this.options.indentBy.repeat(a)}function c(a){return!(!a.startsWith(this.options.attributeNamePrefix)||a===this.options.textNodeName)&&a.substr(this.attrPrefixLen)}i.prototype.build=function(a){return this.options.preserveOrder?n(a,this.options):(Array.isArray(a)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(a={[this.options.arrayNodeName]:a}),this.j2x(a,0,[]).val)},i.prototype.j2x=function(a,h,u){let g="",p="";const m=u.join(".");for(let v in a)if(Object.prototype.hasOwnProperty.call(a,v))if(a[v]===void 0)this.isAttribute(v)&&(p+="");else if(a[v]===null)this.isAttribute(v)?p+="":v[0]==="?"?p+=this.indentate(h)+"<"+v+"?"+this.tagEndChar:p+=this.indentate(h)+"<"+v+"/"+this.tagEndChar;else if(a[v]instanceof Date)p+=this.buildTextValNode(a[v],v,"",h);else if(typeof a[v]!="object"){const _=this.isAttribute(v);if(_&&!this.ignoreAttributesFn(_,m))g+=this.buildAttrPairStr(_,""+a[v]);else if(!_)if(v===this.options.textNodeName){let d=this.options.tagValueProcessor(v,""+a[v]);p+=this.replaceEntitiesValue(d)}else p+=this.buildTextValNode(a[v],v,"",h)}else if(Array.isArray(a[v])){const _=a[v].length;let d="",y="";for(let A=0;A<_;A++){const C=a[v][A];if(C!==void 0)if(C===null)v[0]==="?"?p+=this.indentate(h)+"<"+v+"?"+this.tagEndChar:p+=this.indentate(h)+"<"+v+"/"+this.tagEndChar;else if(typeof C=="object")if(this.options.oneListGroup){const w=this.j2x(C,h+1,u.concat(v));d+=w.val,this.options.attributesGroupName&&C.hasOwnProperty(this.options.attributesGroupName)&&(y+=w.attrStr)}else d+=this.processTextOrObjNode(C,v,h,u);else if(this.options.oneListGroup){let w=this.options.tagValueProcessor(v,C);w=this.replaceEntitiesValue(w),d+=w}else d+=this.buildTextValNode(C,v,"",h)}this.options.oneListGroup&&(d=this.buildObjectNode(d,v,y,h)),p+=d}else if(this.options.attributesGroupName&&v===this.options.attributesGroupName){const _=Object.keys(a[v]),d=_.length;for(let y=0;y<d;y++)g+=this.buildAttrPairStr(_[y],""+a[v][_[y]])}else p+=this.processTextOrObjNode(a[v],v,h,u);return{attrStr:g,val:p}},i.prototype.buildAttrPairStr=function(a,h){return h=this.options.attributeValueProcessor(a,""+h),h=this.replaceEntitiesValue(h),this.options.suppressBooleanAttributes&&h==="true"?" "+a:" "+a+'="'+h+'"'},i.prototype.buildObjectNode=function(a,h,u,g){if(a==="")return h[0]==="?"?this.indentate(g)+"<"+h+u+"?"+this.tagEndChar:this.indentate(g)+"<"+h+u+this.closeTag(h)+this.tagEndChar;{let p="</"+h+this.tagEndChar,m="";return h[0]==="?"&&(m="?",p=""),!u&&u!==""||a.indexOf("<")!==-1?this.options.commentPropName!==!1&&h===this.options.commentPropName&&m.length===0?this.indentate(g)+`<!--${a}-->`+this.newLine:this.indentate(g)+"<"+h+u+m+this.tagEndChar+a+this.indentate(g)+p:this.indentate(g)+"<"+h+u+m+">"+a+p}},i.prototype.closeTag=function(a){let h="";return this.options.unpairedTags.indexOf(a)!==-1?this.options.suppressUnpairedNode||(h="/"):h=this.options.suppressEmptyNode?"/":`></${a}`,h},i.prototype.buildTextValNode=function(a,h,u,g){if(this.options.cdataPropName!==!1&&h===this.options.cdataPropName)return this.indentate(g)+`<![CDATA[${a}]]>`+this.newLine;if(this.options.commentPropName!==!1&&h===this.options.commentPropName)return this.indentate(g)+`<!--${a}-->`+this.newLine;if(h[0]==="?")return this.indentate(g)+"<"+h+u+"?"+this.tagEndChar;{let p=this.options.tagValueProcessor(h,a);return p=this.replaceEntitiesValue(p),p===""?this.indentate(g)+"<"+h+u+this.closeTag(h)+this.tagEndChar:this.indentate(g)+"<"+h+u+">"+p+"</"+h+this.tagEndChar}},i.prototype.replaceEntitiesValue=function(a){if(a&&a.length>0&&this.options.processEntities)for(let h=0;h<this.options.entities.length;h++){const u=this.options.entities[h];a=a.replace(u.regex,u.val)}return a},r.exports=i},87:r=>{function e(i,l,f,c){let a="",h=!1;for(let u=0;u<i.length;u++){const g=i[u],p=t(g);if(p===void 0)continue;let m="";if(m=f.length===0?p:`${f}.${p}`,p===l.textNodeName){let y=g[p];s(m,l)||(y=l.tagValueProcessor(p,y),y=o(y,l)),h&&(a+=c),a+=y,h=!1;continue}if(p===l.cdataPropName){h&&(a+=c),a+=`<![CDATA[${g[p][0][l.textNodeName]}]]>`,h=!1;continue}if(p===l.commentPropName){a+=c+`<!--${g[p][0][l.textNodeName]}-->`,h=!0;continue}if(p[0]==="?"){const y=n(g[":@"],l),A=p==="?xml"?"":c;let C=g[p][0][l.textNodeName];C=C.length!==0?" "+C:"",a+=A+`<${p}${C}${y}?>`,h=!0;continue}let v=c;v!==""&&(v+=l.indentBy);const _=c+`<${p}${n(g[":@"],l)}`,d=e(g[p],l,m,v);l.unpairedTags.indexOf(p)!==-1?l.suppressUnpairedNode?a+=_+">":a+=_+"/>":d&&d.length!==0||!l.suppressEmptyNode?d&&d.endsWith(">")?a+=_+`>${d}${c}</${p}>`:(a+=_+">",d&&c!==""&&(d.includes("/>")||d.includes("</"))?a+=c+l.indentBy+d+c:a+=d,a+=`</${p}>`):a+=_+"/>",h=!0}return a}function t(i){const l=Object.keys(i);for(let f=0;f<l.length;f++){const c=l[f];if(i.hasOwnProperty(c)&&c!==":@")return c}}function n(i,l){let f="";if(i&&!l.ignoreAttributes)for(let c in i){if(!i.hasOwnProperty(c))continue;let a=l.attributeValueProcessor(c,i[c]);a=o(a,l),a===!0&&l.suppressBooleanAttributes?f+=` ${c.substr(l.attributeNamePrefix.length)}`:f+=` ${c.substr(l.attributeNamePrefix.length)}="${a}"`}return f}function s(i,l){let f=(i=i.substr(0,i.length-l.textNodeName.length-1)).substr(i.lastIndexOf(".")+1);for(let c in l.stopNodes)if(l.stopNodes[c]===i||l.stopNodes[c]==="*."+f)return!0;return!1}function o(i,l){if(i&&i.length>0&&l.processEntities)for(let f=0;f<l.entities.length;f++){const c=l.entities[f];i=i.replace(c.regex,c.val)}return i}r.exports=function(i,l){let f="";return l.format&&l.indentBy.length>0&&(f=`
`),e(i,l,"",f)}},193:(r,e,t)=>{const n=t(705);function s(h,u){let g="";for(;u<h.length&&h[u]!=="'"&&h[u]!=='"';u++)g+=h[u];if(g=g.trim(),g.indexOf(" ")!==-1)throw new Error("External entites are not supported");const p=h[u++];let m="";for(;u<h.length&&h[u]!==p;u++)m+=h[u];return[g,m,u]}function o(h,u){return h[u+1]==="!"&&h[u+2]==="-"&&h[u+3]==="-"}function i(h,u){return h[u+1]==="!"&&h[u+2]==="E"&&h[u+3]==="N"&&h[u+4]==="T"&&h[u+5]==="I"&&h[u+6]==="T"&&h[u+7]==="Y"}function l(h,u){return h[u+1]==="!"&&h[u+2]==="E"&&h[u+3]==="L"&&h[u+4]==="E"&&h[u+5]==="M"&&h[u+6]==="E"&&h[u+7]==="N"&&h[u+8]==="T"}function f(h,u){return h[u+1]==="!"&&h[u+2]==="A"&&h[u+3]==="T"&&h[u+4]==="T"&&h[u+5]==="L"&&h[u+6]==="I"&&h[u+7]==="S"&&h[u+8]==="T"}function c(h,u){return h[u+1]==="!"&&h[u+2]==="N"&&h[u+3]==="O"&&h[u+4]==="T"&&h[u+5]==="A"&&h[u+6]==="T"&&h[u+7]==="I"&&h[u+8]==="O"&&h[u+9]==="N"}function a(h){if(n.isName(h))return h;throw new Error(`Invalid entity name ${h}`)}r.exports=function(h,u){const g={};if(h[u+3]!=="O"||h[u+4]!=="C"||h[u+5]!=="T"||h[u+6]!=="Y"||h[u+7]!=="P"||h[u+8]!=="E")throw new Error("Invalid Tag instead of DOCTYPE");{u+=9;let p=1,m=!1,v=!1,_="";for(;u<h.length;u++)if(h[u]!=="<"||v)if(h[u]===">"){if(v?h[u-1]==="-"&&h[u-2]==="-"&&(v=!1,p--):p--,p===0)break}else h[u]==="["?m=!0:_+=h[u];else{if(m&&i(h,u)){let d,y;u+=7,[d,y,u]=s(h,u+1),y.indexOf("&")===-1&&(g[a(d)]={regx:RegExp(`&${d};`,"g"),val:y})}else if(m&&l(h,u))u+=8;else if(m&&f(h,u))u+=8;else if(m&&c(h,u))u+=9;else{if(!o)throw new Error("Invalid DOCTYPE");v=!0}p++,_=""}if(p!==0)throw new Error("Unclosed DOCTYPE")}return{entities:g,i:u}}},63:(r,e)=>{const t={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(n,s){return s},attributeValueProcessor:function(n,s){return s},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(n,s,o){return n}};e.buildOptions=function(n){return Object.assign({},t,n)},e.defaultOptions=t},299:(r,e,t)=>{const n=t(705),s=t(365),o=t(193),i=t(494),l=t(118);function f(w){const R=Object.keys(w);for(let S=0;S<R.length;S++){const I=R[S];this.lastEntities[I]={regex:new RegExp("&"+I+";","g"),val:w[I]}}}function c(w,R,S,I,D,L,H){if(w!==void 0&&(this.options.trimValues&&!I&&(w=w.trim()),w.length>0)){H||(w=this.replaceEntitiesValue(w));const O=this.options.tagValueProcessor(R,w,S,D,L);return O==null?w:typeof O!=typeof w||O!==w?O:this.options.trimValues||w.trim()===w?C(w,this.options.parseTagValue,this.options.numberParseOptions):w}}function a(w){if(this.options.removeNSPrefix){const R=w.split(":"),S=w.charAt(0)==="/"?"/":"";if(R[0]==="xmlns")return"";R.length===2&&(w=S+R[1])}return w}const h=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function u(w,R,S){if(this.options.ignoreAttributes!==!0&&typeof w=="string"){const I=n.getAllMatches(w,h),D=I.length,L={};for(let H=0;H<D;H++){const O=this.resolveNameSpace(I[H][1]);if(this.ignoreAttributesFn(O,R))continue;let z=I[H][4],Y=this.options.attributeNamePrefix+O;if(O.length)if(this.options.transformAttributeName&&(Y=this.options.transformAttributeName(Y)),Y==="__proto__"&&(Y="#__proto__"),z!==void 0){this.options.trimValues&&(z=z.trim()),z=this.replaceEntitiesValue(z);const Ae=this.options.attributeValueProcessor(O,z,R);L[Y]=Ae==null?z:typeof Ae!=typeof z||Ae!==z?Ae:C(z,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(L[Y]=!0)}if(!Object.keys(L).length)return;if(this.options.attributesGroupName){const H={};return H[this.options.attributesGroupName]=L,H}return L}}const g=function(w){w=w.replace(/\r\n?/g,`
`);const R=new s("!xml");let S=R,I="",D="";for(let L=0;L<w.length;L++)if(w[L]==="<")if(w[L+1]==="/"){const H=d(w,">",L,"Closing Tag is not closed.");let O=w.substring(L+2,H).trim();if(this.options.removeNSPrefix){const Ae=O.indexOf(":");Ae!==-1&&(O=O.substr(Ae+1))}this.options.transformTagName&&(O=this.options.transformTagName(O)),S&&(I=this.saveTextToParentTag(I,S,D));const z=D.substring(D.lastIndexOf(".")+1);if(O&&this.options.unpairedTags.indexOf(O)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${O}>`);let Y=0;z&&this.options.unpairedTags.indexOf(z)!==-1?(Y=D.lastIndexOf(".",D.lastIndexOf(".")-1),this.tagsNodeStack.pop()):Y=D.lastIndexOf("."),D=D.substring(0,Y),S=this.tagsNodeStack.pop(),I="",L=H}else if(w[L+1]==="?"){let H=y(w,L,!1,"?>");if(!H)throw new Error("Pi Tag is not closed.");if(I=this.saveTextToParentTag(I,S,D),!(this.options.ignoreDeclaration&&H.tagName==="?xml"||this.options.ignorePiTags)){const O=new s(H.tagName);O.add(this.options.textNodeName,""),H.tagName!==H.tagExp&&H.attrExpPresent&&(O[":@"]=this.buildAttributesMap(H.tagExp,D,H.tagName)),this.addChild(S,O,D)}L=H.closeIndex+1}else if(w.substr(L+1,3)==="!--"){const H=d(w,"-->",L+4,"Comment is not closed.");if(this.options.commentPropName){const O=w.substring(L+4,H-2);I=this.saveTextToParentTag(I,S,D),S.add(this.options.commentPropName,[{[this.options.textNodeName]:O}])}L=H}else if(w.substr(L+1,2)==="!D"){const H=o(w,L);this.docTypeEntities=H.entities,L=H.i}else if(w.substr(L+1,2)==="!["){const H=d(w,"]]>",L,"CDATA is not closed.")-2,O=w.substring(L+9,H);I=this.saveTextToParentTag(I,S,D);let z=this.parseTextData(O,S.tagname,D,!0,!1,!0,!0);z==null&&(z=""),this.options.cdataPropName?S.add(this.options.cdataPropName,[{[this.options.textNodeName]:O}]):S.add(this.options.textNodeName,z),L=H+2}else{let H=y(w,L,this.options.removeNSPrefix),O=H.tagName;const z=H.rawTagName;let Y=H.tagExp,Ae=H.attrExpPresent,De=H.closeIndex;this.options.transformTagName&&(O=this.options.transformTagName(O)),S&&I&&S.tagname!=="!xml"&&(I=this.saveTextToParentTag(I,S,D,!1));const Ie=S;if(Ie&&this.options.unpairedTags.indexOf(Ie.tagname)!==-1&&(S=this.tagsNodeStack.pop(),D=D.substring(0,D.lastIndexOf("."))),O!==R.tagname&&(D+=D?"."+O:O),this.isItStopNode(this.options.stopNodes,D,O)){let he="";if(Y.length>0&&Y.lastIndexOf("/")===Y.length-1)O[O.length-1]==="/"?(O=O.substr(0,O.length-1),D=D.substr(0,D.length-1),Y=O):Y=Y.substr(0,Y.length-1),L=H.closeIndex;else if(this.options.unpairedTags.indexOf(O)!==-1)L=H.closeIndex;else{const Q=this.readStopNodeData(w,z,De+1);if(!Q)throw new Error(`Unexpected end of ${z}`);L=Q.i,he=Q.tagContent}const ze=new s(O);O!==Y&&Ae&&(ze[":@"]=this.buildAttributesMap(Y,D,O)),he&&(he=this.parseTextData(he,O,D,!0,Ae,!0,!0)),D=D.substr(0,D.lastIndexOf(".")),ze.add(this.options.textNodeName,he),this.addChild(S,ze,D)}else{if(Y.length>0&&Y.lastIndexOf("/")===Y.length-1){O[O.length-1]==="/"?(O=O.substr(0,O.length-1),D=D.substr(0,D.length-1),Y=O):Y=Y.substr(0,Y.length-1),this.options.transformTagName&&(O=this.options.transformTagName(O));const he=new s(O);O!==Y&&Ae&&(he[":@"]=this.buildAttributesMap(Y,D,O)),this.addChild(S,he,D),D=D.substr(0,D.lastIndexOf("."))}else{const he=new s(O);this.tagsNodeStack.push(S),O!==Y&&Ae&&(he[":@"]=this.buildAttributesMap(Y,D,O)),this.addChild(S,he,D),S=he}I="",L=De}}else I+=w[L];return R.child};function p(w,R,S){const I=this.options.updateTag(R.tagname,S,R[":@"]);I===!1||(typeof I=="string"&&(R.tagname=I),w.addChild(R))}const m=function(w){if(this.options.processEntities){for(let R in this.docTypeEntities){const S=this.docTypeEntities[R];w=w.replace(S.regx,S.val)}for(let R in this.lastEntities){const S=this.lastEntities[R];w=w.replace(S.regex,S.val)}if(this.options.htmlEntities)for(let R in this.htmlEntities){const S=this.htmlEntities[R];w=w.replace(S.regex,S.val)}w=w.replace(this.ampEntity.regex,this.ampEntity.val)}return w};function v(w,R,S,I){return w&&(I===void 0&&(I=Object.keys(R.child).length===0),(w=this.parseTextData(w,R.tagname,S,!1,!!R[":@"]&&Object.keys(R[":@"]).length!==0,I))!==void 0&&w!==""&&R.add(this.options.textNodeName,w),w=""),w}function _(w,R,S){const I="*."+S;for(const D in w){const L=w[D];if(I===L||R===L)return!0}return!1}function d(w,R,S,I){const D=w.indexOf(R,S);if(D===-1)throw new Error(I);return D+R.length-1}function y(w,R,S){const I=(function(Ae,De){let Ie,he=arguments.length>2&&arguments[2]!==void 0?arguments[2]:">",ze="";for(let Q=De;Q<Ae.length;Q++){let Ce=Ae[Q];if(Ie)Ce===Ie&&(Ie="");else if(Ce==='"'||Ce==="'")Ie=Ce;else if(Ce===he[0]){if(!he[1])return{data:ze,index:Q};if(Ae[Q+1]===he[1])return{data:ze,index:Q}}else Ce==="	"&&(Ce=" ");ze+=Ce}})(w,R+1,arguments.length>3&&arguments[3]!==void 0?arguments[3]:">");if(!I)return;let D=I.data;const L=I.index,H=D.search(/\s/);let O=D,z=!0;H!==-1&&(O=D.substring(0,H),D=D.substring(H+1).trimStart());const Y=O;if(S){const Ae=O.indexOf(":");Ae!==-1&&(O=O.substr(Ae+1),z=O!==I.data.substr(Ae+1))}return{tagName:O,tagExp:D,closeIndex:L,attrExpPresent:z,rawTagName:Y}}function A(w,R,S){const I=S;let D=1;for(;S<w.length;S++)if(w[S]==="<")if(w[S+1]==="/"){const L=d(w,">",S,`${R} is not closed`);if(w.substring(S+2,L).trim()===R&&(D--,D===0))return{tagContent:w.substring(I,S),i:L};S=L}else if(w[S+1]==="?")S=d(w,"?>",S+1,"StopNode is not closed.");else if(w.substr(S+1,3)==="!--")S=d(w,"-->",S+3,"StopNode is not closed.");else if(w.substr(S+1,2)==="![")S=d(w,"]]>",S,"StopNode is not closed.")-2;else{const L=y(w,S,">");L&&((L&&L.tagName)===R&&L.tagExp[L.tagExp.length-1]!=="/"&&D++,S=L.closeIndex)}}function C(w,R,S){if(R&&typeof w=="string"){const I=w.trim();return I==="true"||I!=="false"&&i(w,S)}return n.isExist(w)?w:""}r.exports=class{constructor(w){this.options=w,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(R,S)=>String.fromCharCode(Number.parseInt(S,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(R,S)=>String.fromCharCode(Number.parseInt(S,16))}},this.addExternalEntities=f,this.parseXml=g,this.parseTextData=c,this.resolveNameSpace=a,this.buildAttributesMap=u,this.isItStopNode=_,this.replaceEntitiesValue=m,this.readStopNodeData=A,this.saveTextToParentTag=v,this.addChild=p,this.ignoreAttributesFn=l(this.options.ignoreAttributes)}}},338:(r,e,t)=>{const{buildOptions:n}=t(63),s=t(299),{prettify:o}=t(728),i=t(31);r.exports=class{constructor(l){this.externalEntities={},this.options=n(l)}parse(l,f){if(typeof l!="string"){if(!l.toString)throw new Error("XML data is accepted in String or Bytes[] form.");l=l.toString()}if(f){f===!0&&(f={});const h=i.validate(l,f);if(h!==!0)throw Error(`${h.err.msg}:${h.err.line}:${h.err.col}`)}const c=new s(this.options);c.addExternalEntities(this.externalEntities);const a=c.parseXml(l);return this.options.preserveOrder||a===void 0?a:o(a,this.options)}addEntity(l,f){if(f.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(l.indexOf("&")!==-1||l.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(f==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[l]=f}}},728:(r,e)=>{function t(i,l,f){let c;const a={};for(let h=0;h<i.length;h++){const u=i[h],g=n(u);let p="";if(p=f===void 0?g:f+"."+g,g===l.textNodeName)c===void 0?c=u[g]:c+=""+u[g];else{if(g===void 0)continue;if(u[g]){let m=t(u[g],l,p);const v=o(m,l);u[":@"]?s(m,u[":@"],p,l):Object.keys(m).length!==1||m[l.textNodeName]===void 0||l.alwaysCreateTextNode?Object.keys(m).length===0&&(l.alwaysCreateTextNode?m[l.textNodeName]="":m=""):m=m[l.textNodeName],a[g]!==void 0&&a.hasOwnProperty(g)?(Array.isArray(a[g])||(a[g]=[a[g]]),a[g].push(m)):l.isArray(g,p,v)?a[g]=[m]:a[g]=m}}}return typeof c=="string"?c.length>0&&(a[l.textNodeName]=c):c!==void 0&&(a[l.textNodeName]=c),a}function n(i){const l=Object.keys(i);for(let f=0;f<l.length;f++){const c=l[f];if(c!==":@")return c}}function s(i,l,f,c){if(l){const a=Object.keys(l),h=a.length;for(let u=0;u<h;u++){const g=a[u];c.isArray(g,f+"."+g,!0,!0)?i[g]=[l[g]]:i[g]=l[g]}}}function o(i,l){const{textNodeName:f}=l,c=Object.keys(i).length;return c===0||!(c!==1||!i[f]&&typeof i[f]!="boolean"&&i[f]!==0)}e.prettify=function(i,l){return t(i,l)}},365:r=>{r.exports=class{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,t){e==="__proto__"&&(e="#__proto__"),this.child.push({[e]:t})}addChild(e){e.tagname==="__proto__"&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child})}}},135:r=>{function e(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}r.exports=function(t){return t!=null&&(e(t)||(function(n){return typeof n.readFloatLE=="function"&&typeof n.slice=="function"&&e(n.slice(0,0))})(t)||!!t._isBuffer)}},542:(r,e,t)=>{(function(){var n=t(298),s=t(526).utf8,o=t(135),i=t(526).bin,l=function(f,c){f.constructor==String?f=c&&c.encoding==="binary"?i.stringToBytes(f):s.stringToBytes(f):o(f)?f=Array.prototype.slice.call(f,0):Array.isArray(f)||f.constructor===Uint8Array||(f=f.toString());for(var a=n.bytesToWords(f),h=8*f.length,u=1732584193,g=-271733879,p=-1732584194,m=271733878,v=0;v<a.length;v++)a[v]=16711935&(a[v]<<8|a[v]>>>24)|4278255360&(a[v]<<24|a[v]>>>8);a[h>>>5]|=128<<h%32,a[14+(h+64>>>9<<4)]=h;var _=l._ff,d=l._gg,y=l._hh,A=l._ii;for(v=0;v<a.length;v+=16){var C=u,w=g,R=p,S=m;u=_(u,g,p,m,a[v+0],7,-680876936),m=_(m,u,g,p,a[v+1],12,-389564586),p=_(p,m,u,g,a[v+2],17,606105819),g=_(g,p,m,u,a[v+3],22,-1044525330),u=_(u,g,p,m,a[v+4],7,-176418897),m=_(m,u,g,p,a[v+5],12,1200080426),p=_(p,m,u,g,a[v+6],17,-1473231341),g=_(g,p,m,u,a[v+7],22,-45705983),u=_(u,g,p,m,a[v+8],7,1770035416),m=_(m,u,g,p,a[v+9],12,-1958414417),p=_(p,m,u,g,a[v+10],17,-42063),g=_(g,p,m,u,a[v+11],22,-1990404162),u=_(u,g,p,m,a[v+12],7,1804603682),m=_(m,u,g,p,a[v+13],12,-40341101),p=_(p,m,u,g,a[v+14],17,-1502002290),u=d(u,g=_(g,p,m,u,a[v+15],22,1236535329),p,m,a[v+1],5,-165796510),m=d(m,u,g,p,a[v+6],9,-1069501632),p=d(p,m,u,g,a[v+11],14,643717713),g=d(g,p,m,u,a[v+0],20,-373897302),u=d(u,g,p,m,a[v+5],5,-701558691),m=d(m,u,g,p,a[v+10],9,38016083),p=d(p,m,u,g,a[v+15],14,-660478335),g=d(g,p,m,u,a[v+4],20,-405537848),u=d(u,g,p,m,a[v+9],5,568446438),m=d(m,u,g,p,a[v+14],9,-1019803690),p=d(p,m,u,g,a[v+3],14,-187363961),g=d(g,p,m,u,a[v+8],20,1163531501),u=d(u,g,p,m,a[v+13],5,-1444681467),m=d(m,u,g,p,a[v+2],9,-51403784),p=d(p,m,u,g,a[v+7],14,1735328473),u=y(u,g=d(g,p,m,u,a[v+12],20,-1926607734),p,m,a[v+5],4,-378558),m=y(m,u,g,p,a[v+8],11,-2022574463),p=y(p,m,u,g,a[v+11],16,1839030562),g=y(g,p,m,u,a[v+14],23,-35309556),u=y(u,g,p,m,a[v+1],4,-1530992060),m=y(m,u,g,p,a[v+4],11,1272893353),p=y(p,m,u,g,a[v+7],16,-155497632),g=y(g,p,m,u,a[v+10],23,-1094730640),u=y(u,g,p,m,a[v+13],4,681279174),m=y(m,u,g,p,a[v+0],11,-358537222),p=y(p,m,u,g,a[v+3],16,-722521979),g=y(g,p,m,u,a[v+6],23,76029189),u=y(u,g,p,m,a[v+9],4,-640364487),m=y(m,u,g,p,a[v+12],11,-421815835),p=y(p,m,u,g,a[v+15],16,530742520),u=A(u,g=y(g,p,m,u,a[v+2],23,-995338651),p,m,a[v+0],6,-198630844),m=A(m,u,g,p,a[v+7],10,1126891415),p=A(p,m,u,g,a[v+14],15,-1416354905),g=A(g,p,m,u,a[v+5],21,-57434055),u=A(u,g,p,m,a[v+12],6,1700485571),m=A(m,u,g,p,a[v+3],10,-1894986606),p=A(p,m,u,g,a[v+10],15,-1051523),g=A(g,p,m,u,a[v+1],21,-2054922799),u=A(u,g,p,m,a[v+8],6,1873313359),m=A(m,u,g,p,a[v+15],10,-30611744),p=A(p,m,u,g,a[v+6],15,-1560198380),g=A(g,p,m,u,a[v+13],21,1309151649),u=A(u,g,p,m,a[v+4],6,-145523070),m=A(m,u,g,p,a[v+11],10,-1120210379),p=A(p,m,u,g,a[v+2],15,718787259),g=A(g,p,m,u,a[v+9],21,-343485551),u=u+C>>>0,g=g+w>>>0,p=p+R>>>0,m=m+S>>>0}return n.endian([u,g,p,m])};l._ff=function(f,c,a,h,u,g,p){var m=f+(c&a|~c&h)+(u>>>0)+p;return(m<<g|m>>>32-g)+c},l._gg=function(f,c,a,h,u,g,p){var m=f+(c&h|a&~h)+(u>>>0)+p;return(m<<g|m>>>32-g)+c},l._hh=function(f,c,a,h,u,g,p){var m=f+(c^a^h)+(u>>>0)+p;return(m<<g|m>>>32-g)+c},l._ii=function(f,c,a,h,u,g,p){var m=f+(a^(c|~h))+(u>>>0)+p;return(m<<g|m>>>32-g)+c},l._blocksize=16,l._digestsize=16,r.exports=function(f,c){if(f==null)throw new Error("Illegal argument "+f);var a=n.wordsToBytes(l(f,c));return c&&c.asBytes?a:c&&c.asString?i.bytesToString(a):n.bytesToHex(a)}})()},285:(r,e,t)=>{var n=t(2);r.exports=function(_){return _?(_.substr(0,2)==="{}"&&(_="\\{\\}"+_.substr(2)),v((function(d){return d.split("\\\\").join(s).split("\\{").join(o).split("\\}").join(i).split("\\,").join(l).split("\\.").join(f)})(_),!0).map(a)):[]};var s="\0SLASH"+Math.random()+"\0",o="\0OPEN"+Math.random()+"\0",i="\0CLOSE"+Math.random()+"\0",l="\0COMMA"+Math.random()+"\0",f="\0PERIOD"+Math.random()+"\0";function c(_){return parseInt(_,10)==_?parseInt(_,10):_.charCodeAt(0)}function a(_){return _.split(s).join("\\").split(o).join("{").split(i).join("}").split(l).join(",").split(f).join(".")}function h(_){if(!_)return[""];var d=[],y=n("{","}",_);if(!y)return _.split(",");var A=y.pre,C=y.body,w=y.post,R=A.split(",");R[R.length-1]+="{"+C+"}";var S=h(w);return w.length&&(R[R.length-1]+=S.shift(),R.push.apply(R,S)),d.push.apply(d,R),d}function u(_){return"{"+_+"}"}function g(_){return/^-?0\d/.test(_)}function p(_,d){return _<=d}function m(_,d){return _>=d}function v(_,d){var y=[],A=n("{","}",_);if(!A)return[_];var C=A.pre,w=A.post.length?v(A.post,!1):[""];if(/\$$/.test(A.pre))for(var R=0;R<w.length;R++){var S=C+"{"+A.body+"}"+w[R];y.push(S)}else{var I,D,L=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(A.body),H=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(A.body),O=L||H,z=A.body.indexOf(",")>=0;if(!O&&!z)return A.post.match(/,.*\}/)?v(_=A.pre+"{"+A.body+i+A.post):[_];if(O)I=A.body.split(/\.\./);else if((I=h(A.body)).length===1&&(I=v(I[0],!1).map(u)).length===1)return w.map((function(x){return A.pre+I[0]+x}));if(O){var Y=c(I[0]),Ae=c(I[1]),De=Math.max(I[0].length,I[1].length),Ie=I.length==3?Math.abs(c(I[2])):1,he=p;Ae<Y&&(Ie*=-1,he=m);var ze=I.some(g);D=[];for(var Q=Y;he(Q,Ae);Q+=Ie){var Ce;if(H)(Ce=String.fromCharCode(Q))==="\\"&&(Ce="");else if(Ce=String(Q),ze){var le=De-Ce.length;if(le>0){var j=new Array(le+1).join("0");Ce=Q<0?"-"+j+Ce.slice(1):j+Ce}}D.push(Ce)}}else{D=[];for(var be=0;be<I.length;be++)D.push.apply(D,v(I[be],!1))}for(be=0;be<D.length;be++)for(R=0;R<w.length;R++)S=C+D[be]+w[R],(!d||O||S)&&y.push(S)}return y}},829:r=>{function e(c){return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e(c)}function t(c){var a=typeof Map=="function"?new Map:void 0;return t=function(h){if(h===null||(u=h,Function.toString.call(u).indexOf("[native code]")===-1))return h;var u;if(typeof h!="function")throw new TypeError("Super expression must either be null or a function");if(a!==void 0){if(a.has(h))return a.get(h);a.set(h,g)}function g(){return n(h,arguments,o(this).constructor)}return g.prototype=Object.create(h.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),s(g,h)},t(c)}function n(c,a,h){return n=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch{return!1}})()?Reflect.construct:function(u,g,p){var m=[null];m.push.apply(m,g);var v=new(Function.bind.apply(u,m));return p&&s(v,p.prototype),v},n.apply(null,arguments)}function s(c,a){return s=Object.setPrototypeOf||function(h,u){return h.__proto__=u,h},s(c,a)}function o(c){return o=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)},o(c)}var i=(function(c){function a(h){var u;return(function(g,p){if(!(g instanceof p))throw new TypeError("Cannot call a class as a function")})(this,a),(u=(function(g,p){return!p||e(p)!=="object"&&typeof p!="function"?(function(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m})(g):p})(this,o(a).call(this,h))).name="ObjectPrototypeMutationError",u}return(function(h,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(u&&u.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),u&&s(h,u)})(a,c),a})(t(Error));function l(c,a){for(var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},u=a.split("."),g=u.length,p=function(_){var d=u[_];if(!c)return{v:void 0};if(d==="+"){if(Array.isArray(c))return{v:c.map((function(A,C){var w=u.slice(_+1);return w.length>0?l(A,w.join("."),h):h(c,C,u,_)}))};var y=u.slice(0,_).join(".");throw new Error("Object at wildcard (".concat(y,") is not an array"))}c=h(c,d,u,_)},m=0;m<g;m++){var v=p(m);if(e(v)==="object")return v.v}return c}function f(c,a){return c.length===a+1}r.exports={set:function(c,a,h){if(e(c)!="object"||c===null||a===void 0)return c;if(typeof a=="number")return c[a]=h,c[a];try{return l(c,a,(function(u,g,p,m){if(u===Reflect.getPrototypeOf({}))throw new i("Attempting to mutate Object.prototype");if(!u[g]){var v=Number.isInteger(Number(p[m+1])),_=p[m+1]==="+";u[g]=v||_?[]:{}}return f(p,m)&&(u[g]=h),u[g]}))}catch(u){if(u instanceof i)throw u;return c}},get:function(c,a){if(e(c)!="object"||c===null||a===void 0)return c;if(typeof a=="number")return c[a];try{return l(c,a,(function(h,u){return h[u]}))}catch{return c}},has:function(c,a){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e(c)!="object"||c===null||a===void 0)return!1;if(typeof a=="number")return a in c;try{var u=!1;return l(c,a,(function(g,p,m,v){if(!f(m,v))return g&&g[p];u=h.own?g.hasOwnProperty(p):p in g})),u}catch{return!1}},hasOwn:function(c,a,h){return this.has(c,a,h||{own:!0})},isIn:function(c,a,h){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(e(c)!="object"||c===null||a===void 0)return!1;try{var g=!1,p=!1;return l(c,a,(function(m,v,_,d){return g=g||m===h||!!m&&m[v]===h,p=f(_,d)&&e(m)==="object"&&v in m,m&&m[v]})),u.validPath?g&&p:g}catch{return!1}},ObjectPrototypeMutationError:i}},47:(r,e,t)=>{var n=t(410),s=function(c){return typeof c=="string"};function o(c,a){for(var h=[],u=0;u<c.length;u++){var g=c[u];g&&g!=="."&&(g===".."?h.length&&h[h.length-1]!==".."?h.pop():a&&h.push(".."):h.push(g))}return h}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,l={};function f(c){return i.exec(c).slice(1)}l.resolve=function(){for(var c="",a=!1,h=arguments.length-1;h>=-1&&!a;h--){var u=h>=0?arguments[h]:process.cwd();if(!s(u))throw new TypeError("Arguments to path.resolve must be strings");u&&(c=u+"/"+c,a=u.charAt(0)==="/")}return(a?"/":"")+(c=o(c.split("/"),!a).join("/"))||"."},l.normalize=function(c){var a=l.isAbsolute(c),h=c.substr(-1)==="/";return(c=o(c.split("/"),!a).join("/"))||a||(c="."),c&&h&&(c+="/"),(a?"/":"")+c},l.isAbsolute=function(c){return c.charAt(0)==="/"},l.join=function(){for(var c="",a=0;a<arguments.length;a++){var h=arguments[a];if(!s(h))throw new TypeError("Arguments to path.join must be strings");h&&(c+=c?"/"+h:h)}return l.normalize(c)},l.relative=function(c,a){function h(d){for(var y=0;y<d.length&&d[y]==="";y++);for(var A=d.length-1;A>=0&&d[A]==="";A--);return y>A?[]:d.slice(y,A+1)}c=l.resolve(c).substr(1),a=l.resolve(a).substr(1);for(var u=h(c.split("/")),g=h(a.split("/")),p=Math.min(u.length,g.length),m=p,v=0;v<p;v++)if(u[v]!==g[v]){m=v;break}var _=[];for(v=m;v<u.length;v++)_.push("..");return(_=_.concat(g.slice(m))).join("/")},l._makeLong=function(c){return c},l.dirname=function(c){var a=f(c),h=a[0],u=a[1];return h||u?(u&&(u=u.substr(0,u.length-1)),h+u):"."},l.basename=function(c,a){var h=f(c)[2];return a&&h.substr(-1*a.length)===a&&(h=h.substr(0,h.length-a.length)),h},l.extname=function(c){return f(c)[3]},l.format=function(c){if(!n.isObject(c))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof c);var a=c.root||"";if(!s(a))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof c.root);return(c.dir?c.dir+l.sep:"")+(c.base||"")},l.parse=function(c){if(!s(c))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof c);var a=f(c);if(!a||a.length!==4)throw new TypeError("Invalid path '"+c+"'");return a[1]=a[1]||"",a[2]=a[2]||"",a[3]=a[3]||"",{root:a[0],dir:a[0]+a[1].slice(0,a[1].length-1),base:a[2],ext:a[3],name:a[2].slice(0,a[2].length-a[3].length)}},l.sep="/",l.delimiter=":",r.exports=l},647:(r,e)=>{var t=Object.prototype.hasOwnProperty;function n(o){try{return decodeURIComponent(o.replace(/\+/g," "))}catch{return null}}function s(o){try{return encodeURIComponent(o)}catch{return null}}e.stringify=function(o,i){i=i||"";var l,f,c=[];for(f in typeof i!="string"&&(i="?"),o)if(t.call(o,f)){if((l=o[f])||l!=null&&!isNaN(l)||(l=""),f=s(f),l=s(l),f===null||l===null)continue;c.push(f+"="+l)}return c.length?i+c.join("&"):""},e.parse=function(o){for(var i,l=/([^=?#&]+)=?([^&]*)/g,f={};i=l.exec(o);){var c=n(i[1]),a=n(i[2]);c===null||a===null||c in f||(f[c]=a)}return f}},670:r=>{r.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return e!==80;case"https":case"wss":return e!==443;case"ftp":return e!==21;case"gopher":return e!==70;case"file":return!1}return e!==0}},494:r=>{const e=/^[-+]?0x[a-fA-F0-9]+$/,t=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const n={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};r.exports=function(s){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(o=Object.assign({},n,o),!s||typeof s!="string")return s;let i=s.trim();if(o.skipLike!==void 0&&o.skipLike.test(i))return s;if(o.hex&&e.test(i))return Number.parseInt(i,16);{const f=t.exec(i);if(f){const c=f[1],a=f[2];let h=((l=f[3])&&l.indexOf(".")!==-1&&((l=l.replace(/0+$/,""))==="."?l="0":l[0]==="."?l="0"+l:l[l.length-1]==="."&&(l=l.substr(0,l.length-1))),l);const u=f[4]||f[6];if(!o.leadingZeros&&a.length>0&&c&&i[2]!=="."||!o.leadingZeros&&a.length>0&&!c&&i[1]!==".")return s;{const g=Number(i),p=""+g;return p.search(/[eE]/)!==-1||u?o.eNotation?g:s:i.indexOf(".")!==-1?p==="0"&&h===""||p===h||c&&p==="-"+h?g:s:a?h===p||c+h===p?g:s:i===p||i===c+p?g:s}}return s}var l}},737:(r,e,t)=>{var n=t(670),s=t(647),o=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,i=/[\n\r\t]/g,l=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,f=/:\d+$/,c=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,a=/^[a-zA-Z]:/;function h(d){return(d||"").toString().replace(o,"")}var u=[["#","hash"],["?","query"],function(d,y){return m(y.protocol)?d.replace(/\\/g,"/"):d},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],g={hash:1,query:1};function p(d){var y,A=(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{}).location||{},C={},w=typeof(d=d||A);if(d.protocol==="blob:")C=new _(unescape(d.pathname),{});else if(w==="string")for(y in C=new _(d,{}),g)delete C[y];else if(w==="object"){for(y in d)y in g||(C[y]=d[y]);C.slashes===void 0&&(C.slashes=l.test(d.href))}return C}function m(d){return d==="file:"||d==="ftp:"||d==="http:"||d==="https:"||d==="ws:"||d==="wss:"}function v(d,y){d=(d=h(d)).replace(i,""),y=y||{};var A,C=c.exec(d),w=C[1]?C[1].toLowerCase():"",R=!!C[2],S=!!C[3],I=0;return R?S?(A=C[2]+C[3]+C[4],I=C[2].length+C[3].length):(A=C[2]+C[4],I=C[2].length):S?(A=C[3]+C[4],I=C[3].length):A=C[4],w==="file:"?I>=2&&(A=A.slice(2)):m(w)?A=C[4]:w?R&&(A=A.slice(2)):I>=2&&m(y.protocol)&&(A=C[4]),{protocol:w,slashes:R||m(w),slashesCount:I,rest:A}}function _(d,y,A){if(d=(d=h(d)).replace(i,""),!(this instanceof _))return new _(d,y,A);var C,w,R,S,I,D,L=u.slice(),H=typeof y,O=this,z=0;for(H!=="object"&&H!=="string"&&(A=y,y=null),A&&typeof A!="function"&&(A=s.parse),C=!(w=v(d||"",y=p(y))).protocol&&!w.slashes,O.slashes=w.slashes||C&&y.slashes,O.protocol=w.protocol||y.protocol||"",d=w.rest,(w.protocol==="file:"&&(w.slashesCount!==2||a.test(d))||!w.slashes&&(w.protocol||w.slashesCount<2||!m(O.protocol)))&&(L[3]=[/(.*)/,"pathname"]);z<L.length;z++)typeof(S=L[z])!="function"?(R=S[0],D=S[1],R!=R?O[D]=d:typeof R=="string"?~(I=R==="@"?d.lastIndexOf(R):d.indexOf(R))&&(typeof S[2]=="number"?(O[D]=d.slice(0,I),d=d.slice(I+S[2])):(O[D]=d.slice(I),d=d.slice(0,I))):(I=R.exec(d))&&(O[D]=I[1],d=d.slice(0,I.index)),O[D]=O[D]||C&&S[3]&&y[D]||"",S[4]&&(O[D]=O[D].toLowerCase())):d=S(d,O);A&&(O.query=A(O.query)),C&&y.slashes&&O.pathname.charAt(0)!=="/"&&(O.pathname!==""||y.pathname!=="")&&(O.pathname=(function(Y,Ae){if(Y==="")return Ae;for(var De=(Ae||"/").split("/").slice(0,-1).concat(Y.split("/")),Ie=De.length,he=De[Ie-1],ze=!1,Q=0;Ie--;)De[Ie]==="."?De.splice(Ie,1):De[Ie]===".."?(De.splice(Ie,1),Q++):Q&&(Ie===0&&(ze=!0),De.splice(Ie,1),Q--);return ze&&De.unshift(""),he!=="."&&he!==".."||De.push(""),De.join("/")})(O.pathname,y.pathname)),O.pathname.charAt(0)!=="/"&&m(O.protocol)&&(O.pathname="/"+O.pathname),n(O.port,O.protocol)||(O.host=O.hostname,O.port=""),O.username=O.password="",O.auth&&(~(I=O.auth.indexOf(":"))?(O.username=O.auth.slice(0,I),O.username=encodeURIComponent(decodeURIComponent(O.username)),O.password=O.auth.slice(I+1),O.password=encodeURIComponent(decodeURIComponent(O.password))):O.username=encodeURIComponent(decodeURIComponent(O.auth)),O.auth=O.password?O.username+":"+O.password:O.username),O.origin=O.protocol!=="file:"&&m(O.protocol)&&O.host?O.protocol+"//"+O.host:"null",O.href=O.toString()}_.prototype={set:function(d,y,A){var C=this;switch(d){case"query":typeof y=="string"&&y.length&&(y=(A||s.parse)(y)),C[d]=y;break;case"port":C[d]=y,n(y,C.protocol)?y&&(C.host=C.hostname+":"+y):(C.host=C.hostname,C[d]="");break;case"hostname":C[d]=y,C.port&&(y+=":"+C.port),C.host=y;break;case"host":C[d]=y,f.test(y)?(y=y.split(":"),C.port=y.pop(),C.hostname=y.join(":")):(C.hostname=y,C.port="");break;case"protocol":C.protocol=y.toLowerCase(),C.slashes=!A;break;case"pathname":case"hash":if(y){var w=d==="pathname"?"/":"#";C[d]=y.charAt(0)!==w?w+y:y}else C[d]=y;break;case"username":case"password":C[d]=encodeURIComponent(y);break;case"auth":var R=y.indexOf(":");~R?(C.username=y.slice(0,R),C.username=encodeURIComponent(decodeURIComponent(C.username)),C.password=y.slice(R+1),C.password=encodeURIComponent(decodeURIComponent(C.password))):C.username=encodeURIComponent(decodeURIComponent(y))}for(var S=0;S<u.length;S++){var I=u[S];I[4]&&(C[I[1]]=C[I[1]].toLowerCase())}return C.auth=C.password?C.username+":"+C.password:C.username,C.origin=C.protocol!=="file:"&&m(C.protocol)&&C.host?C.protocol+"//"+C.host:"null",C.href=C.toString(),C},toString:function(d){d&&typeof d=="function"||(d=s.stringify);var y,A=this,C=A.host,w=A.protocol;w&&w.charAt(w.length-1)!==":"&&(w+=":");var R=w+(A.protocol&&A.slashes||m(A.protocol)?"//":"");return A.username?(R+=A.username,A.password&&(R+=":"+A.password),R+="@"):A.password?(R+=":"+A.password,R+="@"):A.protocol!=="file:"&&m(A.protocol)&&!C&&A.pathname!=="/"&&(R+="@"),(C[C.length-1]===":"||f.test(A.hostname)&&!A.port)&&(C+=":"),R+=C+A.pathname,(y=typeof A.query=="object"?d(A.query):A.query)&&(R+=y.charAt(0)!=="?"?"?"+y:y),A.hash&&(R+=A.hash),R}},_.extractProtocol=v,_.location=p,_.trimLeft=h,_.qs=s,r.exports=_},410:()=>{},388:()=>{},805:()=>{},345:()=>{},800:()=>{}},an={};function Ne(r){var e=an[r];if(e!==void 0)return e.exports;var t=an[r]={id:r,loaded:!1,exports:{}};return Es[r].call(t.exports,t,t.exports,Ne),t.loaded=!0,t.exports}Ne.n=r=>{var e=r&&r.__esModule?()=>r.default:()=>r;return Ne.d(e,{a:e}),e},Ne.d=(r,e)=>{for(var t in e)Ne.o(e,t)&&!Ne.o(r,t)&&Object.defineProperty(r,t,{enumerable:!0,get:e[t]})},Ne.o=(r,e)=>Object.prototype.hasOwnProperty.call(r,e),Ne.nmd=r=>(r.paths=[],r.children||(r.children=[]),r);var at={};Ne.d(at,{hT:()=>Xe,O4:()=>vt,Kd:()=>Ls,YK:()=>$s,UU:()=>Fi,Gu:()=>qn,ky:()=>ts,h4:()=>Gt,ch:()=>ar,hq:()=>At,i5:()=>rs});var Ss=Ne(737),_s=Ne.n(Ss);function hr(r){if(!Sr(r))throw new Error("Parameter was not an error")}function Sr(r){return!!r&&typeof r=="object"&&(e=r,Object.prototype.toString.call(e)==="[object Error]")||r instanceof Error;var e}class Ke extends Error{constructor(e,t){const n=[...arguments],{options:s,shortMessage:o}=(function(l){let f,c="";if(l.length===0)f={};else if(Sr(l[0]))f={cause:l[0]},c=l.slice(1).join(" ")||"";else if(l[0]&&typeof l[0]=="object")f=Object.assign({},l[0]),c=l.slice(1).join(" ")||"";else{if(typeof l[0]!="string")throw new Error("Invalid arguments passed to Layerr");f={},c=c=l.join(" ")||""}return{options:f,shortMessage:c}})(n);let i=o;if(s.cause&&(i=`${i}: ${s.cause.message}`),super(i),this.message=i,s.name&&typeof s.name=="string"?this.name=s.name:this.name="Layerr",s.cause&&Object.defineProperty(this,"_cause",{value:s.cause}),Object.defineProperty(this,"_info",{value:{}}),s.info&&typeof s.info=="object"&&Object.assign(this._info,s.info),Error.captureStackTrace){const l=s.constructorOpt||this.constructor;Error.captureStackTrace(this,l)}}static cause(e){return hr(e),e._cause&&Sr(e._cause)?e._cause:null}static fullStack(e){hr(e);const t=Ke.cause(e);return t?`${e.stack}
caused by: ${Ke.fullStack(t)}`:e.stack??""}static info(e){hr(e);const t={},n=Ke.cause(e);return n&&Object.assign(t,Ke.info(n)),e._info&&Object.assign(t,e._info),t}toString(){let e=this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(e=`${e}: ${this.message}`),e}}var Cs=Ne(47),Kt=Ne.n(Cs);const ln="__PATH_SEPARATOR_POSIX__",un="__PATH_SEPARATOR_WINDOWS__";function $e(r){try{const e=r.replace(/\//g,ln).replace(/\\\\/g,un);return encodeURIComponent(e).split(un).join("\\\\").split(ln).join("/")}catch(e){throw new Ke(e,"Failed encoding path")}}function cn(r){return r.startsWith("/")?r:"/"+r}function Wt(r){let e=r;return e[0]!=="/"&&(e="/"+e),/^.+\/$/.test(e)&&(e=e.substr(0,e.length-1)),e}function Os(r){let e=new(_s())(r).pathname;return e.length<=0&&(e="/"),Wt(e)}function Me(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return(function(){return(function(n){var s=[];if(n.length===0)return"";if(typeof n[0]!="string")throw new TypeError("Url must be a string. Received "+n[0]);if(n[0].match(/^[^/:]+:\/*$/)&&n.length>1){var o=n.shift();n[0]=o+n[0]}n[0].match(/^file:\/\/\//)?n[0]=n[0].replace(/^([^/:]+):\/*/,"$1:///"):n[0]=n[0].replace(/^([^/:]+):\/*/,"$1://");for(var i=0;i<n.length;i++){var l=n[i];if(typeof l!="string")throw new TypeError("Url must be a string. Received "+l);l!==""&&(i>0&&(l=l.replace(/^[\/]+/,"")),l=i<n.length-1?l.replace(/[\/]+$/,""):l.replace(/[\/]+$/,"/"),s.push(l))}var f=s.join("/"),c=(f=f.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return c.shift()+(c.length>0?"?":"")+c.join("&")})(typeof arguments[0]=="object"?arguments[0]:[].slice.call(arguments))})(e.reduce(((n,s,o)=>((o===0||s!=="/"||s==="/"&&n[n.length-1]!=="/")&&n.push(s),n)),[]))}var Ns=Ne(542),Nt=Ne.n(Ns);const Rs="abcdef0123456789";function fn(r,e){const t=r.url.replace("//",""),n=t.indexOf("/")==-1?"/":t.slice(t.indexOf("/")),s=r.method?r.method.toUpperCase():"GET",o=!!/(^|,)\s*auth\s*($|,)/.test(e.qop)&&"auth",i=`00000000${e.nc}`.slice(-8),l=(function(u,g,p,m,v,_,d){const y=d||Nt()(`${g}:${p}:${m}`);return u&&u.toLowerCase()==="md5-sess"?Nt()(`${y}:${v}:${_}`):y})(e.algorithm,e.username,e.realm,e.password,e.nonce,e.cnonce,e.ha1),f=Nt()(`${s}:${n}`),c=o?Nt()(`${l}:${e.nonce}:${i}:${e.cnonce}:${o}:${f}`):Nt()(`${l}:${e.nonce}:${f}`),a={username:e.username,realm:e.realm,nonce:e.nonce,uri:n,qop:o,response:c,nc:i,cnonce:e.cnonce,algorithm:e.algorithm,opaque:e.opaque},h=[];for(const u in a)a[u]&&(u==="qop"||u==="nc"||u==="algorithm"?h.push(`${u}=${a[u]}`):h.push(`${u}="${a[u]}"`));return`Digest ${h.join(", ")}`}function Wn(r){return(r.headers&&r.headers.get("www-authenticate")||"").split(/\s/)[0].toLowerCase()==="digest"}var Ps=Ne(101),Gn=Ne.n(Ps);function hn(r){return Gn().decode(r)}function pn(r,e){var t;return`Basic ${t=`${r}:${e}`,Gn().encode(t)}`}const Qt=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:typeof window<"u"?window:globalThis,Is=Qt.fetch.bind(Qt),Ls=Qt.Request,$s=Qt.Response;let Xe=(function(r){return r.Auto="auto",r.Digest="digest",r.None="none",r.Password="password",r.Token="token",r})({}),vt=(function(r){return r.DataTypeNoLength="data-type-no-length",r.InvalidAuthType="invalid-auth-type",r.InvalidOutputFormat="invalid-output-format",r.LinkUnsupportedAuthType="link-unsupported-auth",r.InvalidUpdateRange="invalid-update-range",r.NotSupported="not-supported",r})({});function Hn(r,e,t,n,s){switch(r.authType){case Xe.Auto:e&&t&&(r.headers.Authorization=pn(e,t));break;case Xe.Digest:r.digest=(function(i,l,f){return{username:i,password:l,ha1:f,nc:0,algorithm:"md5",hasDigestAuth:!1}})(e,t,s);break;case Xe.None:break;case Xe.Password:r.headers.Authorization=pn(e,t);break;case Xe.Token:r.headers.Authorization=`${(o=n).token_type} ${o.access_token}`;break;default:throw new Ke({info:{code:vt.InvalidAuthType}},`Invalid auth type: ${r.authType}`)}var o}Ne(345),Ne(800);const gn="@@HOTPATCHER",Ms=()=>{};function pr(r){return{original:r,methods:[r],final:!1}}let Ds=class{constructor(){this._configuration={registry:{},getEmptyAction:"null"},this.__type__=gn}get configuration(){return this._configuration}get getEmptyAction(){return this.configuration.getEmptyAction}set getEmptyAction(e){this.configuration.getEmptyAction=e}control(e){let t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!e||e.__type__!==gn)throw new Error("Failed taking control of target HotPatcher instance: Invalid type or object");return Object.keys(e.configuration.registry).forEach((n=>{this.configuration.registry.hasOwnProperty(n)?t&&(this.configuration.registry[n]=Object.assign({},e.configuration.registry[n])):this.configuration.registry[n]=Object.assign({},e.configuration.registry[n])})),e._configuration=this.configuration,this}execute(e){const t=this.get(e)||Ms;for(var n=arguments.length,s=new Array(n>1?n-1:0),o=1;o<n;o++)s[o-1]=arguments[o];return t(...s)}get(e){const t=this.configuration.registry[e];if(!t)switch(this.getEmptyAction){case"null":return null;case"throw":throw new Error(`Failed handling method request: No method provided for override: ${e}`);default:throw new Error(`Failed handling request which resulted in an empty method: Invalid empty-action specified: ${this.getEmptyAction}`)}return(function(){for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];if(s.length===0)throw new Error("Failed creating sequence: No functions provided");return function(){for(var i=arguments.length,l=new Array(i),f=0;f<i;f++)l[f]=arguments[f];let c=l;const a=this;for(;s.length>0;)c=[s.shift().apply(a,c)];return c[0]}})(...t.methods)}isPatched(e){return!!this.configuration.registry[e]}patch(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{chain:s=!1}=n;if(this.configuration.registry[e]&&this.configuration.registry[e].final)throw new Error(`Failed patching '${e}': Method marked as being final`);if(typeof t!="function")throw new Error(`Failed patching '${e}': Provided method is not a function`);if(s)this.configuration.registry[e]?this.configuration.registry[e].methods.push(t):this.configuration.registry[e]=pr(t);else if(this.isPatched(e)){const{original:o}=this.configuration.registry[e];this.configuration.registry[e]=Object.assign(pr(t),{original:o})}else this.configuration.registry[e]=pr(t);return this}patchInline(e,t){this.isPatched(e)||this.patch(e,t);for(var n=arguments.length,s=new Array(n>2?n-2:0),o=2;o<n;o++)s[o-2]=arguments[o];return this.execute(e,...s)}plugin(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return n.forEach((o=>{this.patch(e,o,{chain:!0})})),this}restore(e){if(!this.isPatched(e))throw new Error(`Failed restoring method: No method present for key: ${e}`);if(typeof this.configuration.registry[e].original!="function")throw new Error(`Failed restoring method: Original method not found or of invalid type for key: ${e}`);return this.configuration.registry[e].methods=[this.configuration.registry[e].original],this}setFinal(e){if(!this.configuration.registry.hasOwnProperty(e))throw new Error(`Failed marking '${e}' as final: No method found for key`);return this.configuration.registry[e].final=!0,this}},gr=null;function qn(){return gr||(gr=new Ds),gr}function Jt(r){return(function(e){if(typeof e!="object"||e===null||Object.prototype.toString.call(e)!="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t})(r)?Object.assign({},r):Object.setPrototypeOf(Object.assign({},r),Object.getPrototypeOf(r))}function dn(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];let n=null,s=[...e];for(;s.length>0;){const o=s.shift();n=n?Vn(n,o):Jt(o)}return n}function Vn(r,e){const t=Jt(r);return Object.keys(e).forEach((n=>{t.hasOwnProperty(n)?Array.isArray(e[n])?t[n]=Array.isArray(t[n])?[...t[n],...e[n]]:[...e[n]]:typeof e[n]=="object"&&e[n]?t[n]=typeof t[n]=="object"&&t[n]?Vn(t[n],e[n]):Jt(e[n]):t[n]=e[n]:t[n]=e[n]})),t}function zs(r){const e={};for(const t of r.keys())e[t]=r.get(t);return e}function _r(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];if(e.length===0)return{};const n={};return e.reduce(((s,o)=>(Object.keys(o).forEach((i=>{const l=i.toLowerCase();n.hasOwnProperty(l)?s[n[l]]=o[i]:(n[l]=i,s[i]=o[i])})),s)),{})}Ne(805);const js=typeof ArrayBuffer=="function",{toString:Us}=Object.prototype;function Zn(r){return js&&(r instanceof ArrayBuffer||Us.call(r)==="[object ArrayBuffer]")}function Xn(r){return r!=null&&r.constructor!=null&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}function Mr(r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(r.apply(this,e))}catch(n){return Promise.reject(n)}}}function Cr(r,e,t){return t?e?e(r):r:(r&&r.then||(r=Promise.resolve(r)),e?r.then(e):r)}const Yn=Mr((function(r){const e=r._digest;return delete r._digest,e.hasDigestAuth&&(r=dn(r,{headers:{Authorization:fn(r,e)}})),Cr(er(r),(function(t){let n=!1;return s=function(i){return n?i:t},(o=(function(){if(t.status==401)return e.hasDigestAuth=(function(i,l){if(!Wn(i))return!1;const f=/([a-z0-9_-]+)=(?:"([^"]+)"|([a-z0-9_-]+))/gi;for(;;){const c=i.headers&&i.headers.get("www-authenticate")||"",a=f.exec(c);if(!a)break;l[a[1]]=a[2]||a[3]}return l.nc+=1,l.cnonce=(function(){let c="";for(let a=0;a<32;++a)c=`${c}${Rs[Math.floor(16*Math.random())]}`;return c})(),!0})(t,e),(function(){if(e.hasDigestAuth)return Cr(er(r=dn(r,{headers:{Authorization:fn(r,e)}})),(function(i){return i.status==401?e.hasDigestAuth=!1:e.nc++,n=!0,i}))})();e.nc++})())&&o.then?o.then(s):s(o);var s,o}))})),Fs=Mr((function(r,e){return Cr(er(r),(function(t){return t.ok?(e.authType=Xe.Password,t):t.status==401&&Wn(t)?(e.authType=Xe.Digest,Hn(e,e.username,e.password,void 0,void 0),r._digest=e.digest,Yn(r)):t}))})),Ue=Mr((function(r,e){return e.authType===Xe.Auto?Fs(r,e):r._digest?Yn(r):er(r)}));function Fe(r,e,t){const n=Jt(r);return n.headers=_r(e.headers,n.headers||{},t.headers||{}),t.data!==void 0&&(n.data=t.data),t.signal&&(n.signal=t.signal),e.httpAgent&&(n.httpAgent=e.httpAgent),e.httpsAgent&&(n.httpsAgent=e.httpsAgent),e.digest&&(n._digest=e.digest),typeof e.withCredentials=="boolean"&&(n.withCredentials=e.withCredentials),n}function er(r){const e=qn();return e.patchInline("request",(t=>e.patchInline("fetch",Is,t.url,(function(n){let s={};const o={method:n.method};if(n.headers&&(s=_r(s,n.headers)),n.data!==void 0){const[i,l]=(function(f){if(typeof f=="string")return[f,{}];if(Xn(f))return[f,{}];if(Zn(f))return[f,{}];if(f&&typeof f=="object")return[JSON.stringify(f),{"content-type":"application/json"}];throw new Error("Unable to convert request body: Unexpected body type: "+typeof f)})(n.data);o.body=i,s=_r(s,l)}return n.signal&&(o.signal=n.signal),n.withCredentials&&(o.credentials="include"),o.headers=s,o})(t))),r)}var Bs=Ne(285);const tr=r=>{if(typeof r!="string")throw new TypeError("invalid pattern");if(r.length>65536)throw new TypeError("pattern is too long")},Ws={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},Rt=r=>r.replace(/[[\]\\-]/g,"\\$&"),mn=r=>r.join(""),Gs=(r,e)=>{const t=e;if(r.charAt(t)!=="[")throw new Error("not in a brace expression");const n=[],s=[];let o=t+1,i=!1,l=!1,f=!1,c=!1,a=t,h="";e:for(;o<r.length;){const m=r.charAt(o);if(m!=="!"&&m!=="^"||o!==t+1){if(m==="]"&&i&&!f){a=o+1;break}if(i=!0,m!=="\\"||f){if(m==="["&&!f){for(const[v,[_,d,y]]of Object.entries(Ws))if(r.startsWith(v,o)){if(h)return["$.",!1,r.length-t,!0];o+=v.length,y?s.push(_):n.push(_),l=l||d;continue e}}f=!1,h?(m>h?n.push(Rt(h)+"-"+Rt(m)):m===h&&n.push(Rt(m)),h="",o++):r.startsWith("-]",o+1)?(n.push(Rt(m+"-")),o+=2):r.startsWith("-",o+1)?(h=m,o+=2):(n.push(Rt(m)),o++)}else f=!0,o++}else c=!0,o++}if(a<o)return["",!1,0,!1];if(!n.length&&!s.length)return["$.",!1,r.length-t,!0];if(s.length===0&&n.length===1&&/^\\?.$/.test(n[0])&&!c)return[(u=n[0].length===2?n[0].slice(-1):n[0],u.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")),!1,a-t,!1];var u;const g="["+(c?"^":"")+mn(n)+"]",p="["+(c?"":"^")+mn(s)+"]";return[n.length&&s.length?"("+g+"|"+p+")":n.length?g:p,l,a-t,!0]},jt=function(r){let{windowsPathsNoEscape:e=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e?r.replace(/\[([^\/\\])\]/g,"$1"):r.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1")},Hs=new Set(["!","?","+","*","@"]),vn=r=>Hs.has(r),dr="(?!\\.)",qs=new Set(["[","."]),Vs=new Set(["..","."]),Zs=new Set("().*{}+?[]^$\\!"),Dr="[^/]",bn=Dr+"*?",yn=Dr+"+?";class Ze{type;#r;#n;#i=!1;#e=[];#t;#o;#l;#a=!1;#s;#u;#f=!1;constructor(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.type=e,e&&(this.#n=!0),this.#t=t,this.#r=this.#t?this.#t.#r:this,this.#s=this.#r===this?n:this.#r.#s,this.#l=this.#r===this?[]:this.#r.#l,e!=="!"||this.#r.#a||this.#l.push(this),this.#o=this.#t?this.#t.#e.length:0}get hasMagic(){if(this.#n!==void 0)return this.#n;for(const e of this.#e)if(typeof e!="string"&&(e.type||e.hasMagic))return this.#n=!0;return this.#n}toString(){return this.#u!==void 0?this.#u:this.type?this.#u=this.type+"("+this.#e.map((e=>String(e))).join("|")+")":this.#u=this.#e.map((e=>String(e))).join("")}#p(){if(this!==this.#r)throw new Error("should only call on root");if(this.#a)return this;let e;for(this.toString(),this.#a=!0;e=this.#l.pop();){if(e.type!=="!")continue;let t=e,n=t.#t;for(;n;){for(let s=t.#o+1;!n.type&&s<n.#e.length;s++)for(const o of e.#e){if(typeof o=="string")throw new Error("string part in extglob AST??");o.copyIn(n.#e[s])}t=n,n=t.#t}}return this}push(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(const s of t)if(s!==""){if(typeof s!="string"&&!(s instanceof Ze&&s.#t===this))throw new Error("invalid part: "+s);this.#e.push(s)}}toJSON(){const e=this.type===null?this.#e.slice().map((t=>typeof t=="string"?t:t.toJSON())):[this.type,...this.#e.map((t=>t.toJSON()))];return this.isStart()&&!this.type&&e.unshift([]),this.isEnd()&&(this===this.#r||this.#r.#a&&this.#t?.type==="!")&&e.push({}),e}isStart(){if(this.#r===this)return!0;if(!this.#t?.isStart())return!1;if(this.#o===0)return!0;const e=this.#t;for(let t=0;t<this.#o;t++){const n=e.#e[t];if(!(n instanceof Ze&&n.type==="!"))return!1}return!0}isEnd(){if(this.#r===this||this.#t?.type==="!")return!0;if(!this.#t?.isEnd())return!1;if(!this.type)return this.#t?.isEnd();const e=this.#t?this.#t.#e.length:0;return this.#o===e-1}copyIn(e){typeof e=="string"?this.push(e):this.push(e.clone(this))}clone(e){const t=new Ze(this.type,e);for(const n of this.#e)t.copyIn(n);return t}static#c(e,t,n,s){let o=!1,i=!1,l=-1,f=!1;if(t.type===null){let g=n,p="";for(;g<e.length;){const m=e.charAt(g++);if(o||m==="\\")o=!o,p+=m;else if(i)g===l+1?m!=="^"&&m!=="!"||(f=!0):m!=="]"||g===l+2&&f||(i=!1),p+=m;else if(m!=="[")if(s.noext||!vn(m)||e.charAt(g)!=="(")p+=m;else{t.push(p),p="";const v=new Ze(m,t);g=Ze.#c(e,v,g,s),t.push(v)}else i=!0,l=g,f=!1,p+=m}return t.push(p),g}let c=n+1,a=new Ze(null,t);const h=[];let u="";for(;c<e.length;){const g=e.charAt(c++);if(o||g==="\\")o=!o,u+=g;else if(i)c===l+1?g!=="^"&&g!=="!"||(f=!0):g!=="]"||c===l+2&&f||(i=!1),u+=g;else if(g!=="[")if(vn(g)&&e.charAt(c)==="("){a.push(u),u="";const p=new Ze(g,a);a.push(p),c=Ze.#c(e,p,c,s)}else if(g!=="|"){if(g===")")return u===""&&t.#e.length===0&&(t.#f=!0),a.push(u),u="",t.push(...h,a),c;u+=g}else a.push(u),u="",h.push(a),a=new Ze(null,t);else i=!0,l=c,f=!1,u+=g}return t.type=null,t.#n=void 0,t.#e=[e.substring(n-1)],c}static fromGlob(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=new Ze(null,void 0,t);return Ze.#c(e,n,0,t),n}toMMPattern(){if(this!==this.#r)return this.#r.toMMPattern();const e=this.toString(),[t,n,s,o]=this.toRegExpSource();if(!(s||this.#n||this.#s.nocase&&!this.#s.nocaseMagicOnly&&e.toUpperCase()!==e.toLowerCase()))return n;const i=(this.#s.nocase?"i":"")+(o?"u":"");return Object.assign(new RegExp(`^${t}$`,i),{_src:t,_glob:e})}get options(){return this.#s}toRegExpSource(e){const t=e??!!this.#s.dot;if(this.#r===this&&this.#p(),!this.type){const f=this.isStart()&&this.isEnd(),c=this.#e.map((u=>{const[g,p,m,v]=typeof u=="string"?Ze.#g(u,this.#n,f):u.toRegExpSource(e);return this.#n=this.#n||m,this.#i=this.#i||v,g})).join("");let a="";if(this.isStart()&&typeof this.#e[0]=="string"&&(this.#e.length!==1||!Vs.has(this.#e[0]))){const u=qs,g=t&&u.has(c.charAt(0))||c.startsWith("\\.")&&u.has(c.charAt(2))||c.startsWith("\\.\\.")&&u.has(c.charAt(4)),p=!t&&!e&&u.has(c.charAt(0));a=g?"(?!(?:^|/)\\.\\.?(?:$|/))":p?dr:""}let h="";return this.isEnd()&&this.#r.#a&&this.#t?.type==="!"&&(h="(?:$|\\/)"),[a+c+h,jt(c),this.#n=!!this.#n,this.#i]}const n=this.type==="*"||this.type==="+",s=this.type==="!"?"(?:(?!(?:":"(?:";let o=this.#h(t);if(this.isStart()&&this.isEnd()&&!o&&this.type!=="!"){const f=this.toString();return this.#e=[f],this.type=null,this.#n=void 0,[f,jt(this.toString()),!1,!1]}let i=!n||e||t?"":this.#h(!0);i===o&&(i=""),i&&(o=`(?:${o})(?:${i})*?`);let l="";return l=this.type==="!"&&this.#f?(this.isStart()&&!t?dr:"")+yn:s+o+(this.type==="!"?"))"+(!this.isStart()||t||e?"":dr)+bn+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&i?")":this.type==="*"&&i?")?":`)${this.type}`),[l,jt(o),this.#n=!!this.#n,this.#i]}#h(e){return this.#e.map((t=>{if(typeof t=="string")throw new Error("string type in extglob ast??");const[n,s,o,i]=t.toRegExpSource(e);return this.#i=this.#i||i,n})).filter((t=>!(this.isStart()&&this.isEnd()&&!t))).join("|")}static#g(e,t){let n=arguments.length>2&&arguments[2]!==void 0&&arguments[2],s=!1,o="",i=!1;for(let l=0;l<e.length;l++){const f=e.charAt(l);if(s)s=!1,o+=(Zs.has(f)?"\\":"")+f;else if(f!=="\\"){if(f==="["){const[c,a,h,u]=Gs(e,l);if(h){o+=c,i=i||a,l+=h-1,t=t||u;continue}}f!=="*"?f!=="?"?o+=f.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):(o+=Dr,t=!0):(o+=n&&e==="*"?yn:bn,t=!0)}else l===e.length-1?o+="\\\\":s=!0}return[o,jt(e),!!t,i]}}const He=function(r,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return tr(e),!(!t.nocomment&&e.charAt(0)==="#")&&new rr(e,t).match(r)},Xs=/^\*+([^+@!?\*\[\(]*)$/,Ys=r=>e=>!e.startsWith(".")&&e.endsWith(r),Ks=r=>e=>e.endsWith(r),Qs=r=>(r=r.toLowerCase(),e=>!e.startsWith(".")&&e.toLowerCase().endsWith(r)),Js=r=>(r=r.toLowerCase(),e=>e.toLowerCase().endsWith(r)),ei=/^\*+\.\*+$/,ti=r=>!r.startsWith(".")&&r.includes("."),ri=r=>r!=="."&&r!==".."&&r.includes("."),ni=/^\.\*+$/,si=r=>r!=="."&&r!==".."&&r.startsWith("."),ii=/^\*+$/,oi=r=>r.length!==0&&!r.startsWith("."),ai=r=>r.length!==0&&r!=="."&&r!=="..",li=/^\?+([^+@!?\*\[\(]*)?$/,ui=r=>{let[e,t=""]=r;const n=Kn([e]);return t?(t=t.toLowerCase(),s=>n(s)&&s.toLowerCase().endsWith(t)):n},ci=r=>{let[e,t=""]=r;const n=Qn([e]);return t?(t=t.toLowerCase(),s=>n(s)&&s.toLowerCase().endsWith(t)):n},fi=r=>{let[e,t=""]=r;const n=Qn([e]);return t?s=>n(s)&&s.endsWith(t):n},hi=r=>{let[e,t=""]=r;const n=Kn([e]);return t?s=>n(s)&&s.endsWith(t):n},Kn=r=>{let[e]=r;const t=e.length;return n=>n.length===t&&!n.startsWith(".")},Qn=r=>{let[e]=r;const t=e.length;return n=>n.length===t&&n!=="."&&n!==".."},Jn=typeof process=="object"&&process?typeof fr=="object"&&fr&&fr.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix";He.sep=Jn==="win32"?"\\":"/";const it=Symbol("globstar **");He.GLOBSTAR=it,He.filter=function(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t=>He(t,r,e)};const st=function(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.assign({},r,e)};He.defaults=r=>{if(!r||typeof r!="object"||!Object.keys(r).length)return He;const e=He;return Object.assign((function(t,n){return e(t,n,st(r,arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}))}),{Minimatch:class extends e.Minimatch{constructor(t){super(t,st(r,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}))}static defaults(t){return e.defaults(st(r,t)).Minimatch}},AST:class extends e.AST{constructor(t,n){super(t,n,st(r,arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}))}static fromGlob(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.AST.fromGlob(t,st(r,n))}},unescape:function(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.unescape(t,st(r,n))},escape:function(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.escape(t,st(r,n))},filter:function(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.filter(t,st(r,n))},defaults:t=>e.defaults(st(r,t)),makeRe:function(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.makeRe(t,st(r,n))},braceExpand:function(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.braceExpand(t,st(r,n))},match:function(t,n){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return e.match(t,n,st(r,s))},sep:e.sep,GLOBSTAR:it})};const es=function(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return tr(r),e.nobrace||!/\{(?:(?!\{).)*\}/.test(r)?[r]:Bs(r)};He.braceExpand=es,He.makeRe=function(r){return new rr(r,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).makeRe()},He.match=function(r,e){const t=new rr(e,arguments.length>2&&arguments[2]!==void 0?arguments[2]:{});return r=r.filter((n=>t.match(n))),t.options.nonull&&!r.length&&r.push(e),r};const xn=/[?*]|[+@!]\(.*?\)|\[|\]/;class rr{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};tr(e),t=t||{},this.options=t,this.pattern=e,this.platform=t.platform||Jn,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!t.windowsPathsNoEscape||t.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!t.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!t.nonegate,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=t.windowsNoMagicRoot!==void 0?t.windowsNoMagicRoot:!(!this.isWindows||!this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const e of this.set)for(const t of e)if(typeof t!="string")return!0;return!1}debug(){}make(){const e=this.pattern,t=this.options;if(!t.nocomment&&e.charAt(0)==="#")return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],t.debug&&(this.debug=function(){return console.error(...arguments)}),this.debug(this.pattern,this.globSet);const n=this.globSet.map((o=>this.slashSplit(o)));this.globParts=this.preprocess(n),this.debug(this.pattern,this.globParts);let s=this.globParts.map(((o,i,l)=>{if(this.isWindows&&this.windowsNoMagicRoot){const f=!(o[0]!==""||o[1]!==""||o[2]!=="?"&&xn.test(o[2])||xn.test(o[3])),c=/^[a-z]:/i.test(o[0]);if(f)return[...o.slice(0,4),...o.slice(4).map((a=>this.parse(a)))];if(c)return[o[0],...o.slice(1).map((a=>this.parse(a)))]}return o.map((f=>this.parse(f)))}));if(this.debug(this.pattern,s),this.set=s.filter((o=>o.indexOf(!1)===-1)),this.isWindows)for(let o=0;o<this.set.length;o++){const i=this.set[o];i[0]===""&&i[1]===""&&this.globParts[o][2]==="?"&&typeof i[3]=="string"&&/^[a-z]:$/i.test(i[3])&&(i[2]="?")}this.debug(this.pattern,this.set)}preprocess(e){if(this.options.noglobstar)for(let n=0;n<e.length;n++)for(let s=0;s<e[n].length;s++)e[n][s]==="**"&&(e[n][s]="*");const{optimizationLevel:t=1}=this.options;return t>=2?(e=this.firstPhasePreProcess(e),e=this.secondPhasePreProcess(e)):e=t>=1?this.levelOneOptimize(e):this.adjascentGlobstarOptimize(e),e}adjascentGlobstarOptimize(e){return e.map((t=>{let n=-1;for(;(n=t.indexOf("**",n+1))!==-1;){let s=n;for(;t[s+1]==="**";)s++;s!==n&&t.splice(n,s-n)}return t}))}levelOneOptimize(e){return e.map((t=>(t=t.reduce(((n,s)=>{const o=n[n.length-1];return s==="**"&&o==="**"?n:s===".."&&o&&o!==".."&&o!=="."&&o!=="**"?(n.pop(),n):(n.push(s),n)}),[])).length===0?[""]:t))}levelTwoFileOptimize(e){Array.isArray(e)||(e=this.slashSplit(e));let t=!1;do{if(t=!1,!this.preserveMultipleSlashes){for(let s=1;s<e.length-1;s++){const o=e[s];s===1&&o===""&&e[0]===""||o!=="."&&o!==""||(t=!0,e.splice(s,1),s--)}e[0]!=="."||e.length!==2||e[1]!=="."&&e[1]!==""||(t=!0,e.pop())}let n=0;for(;(n=e.indexOf("..",n+1))!==-1;){const s=e[n-1];s&&s!=="."&&s!==".."&&s!=="**"&&(t=!0,e.splice(n-1,2),n-=2)}}while(t);return e.length===0?[""]:e}firstPhasePreProcess(e){let t=!1;do{t=!1;for(let n of e){let s=-1;for(;(s=n.indexOf("**",s+1))!==-1;){let i=s;for(;n[i+1]==="**";)i++;i>s&&n.splice(s+1,i-s);let l=n[s+1];const f=n[s+2],c=n[s+3];if(l!==".."||!f||f==="."||f===".."||!c||c==="."||c==="..")continue;t=!0,n.splice(s,1);const a=n.slice(0);a[s]="**",e.push(a),s--}if(!this.preserveMultipleSlashes){for(let i=1;i<n.length-1;i++){const l=n[i];i===1&&l===""&&n[0]===""||l!=="."&&l!==""||(t=!0,n.splice(i,1),i--)}n[0]!=="."||n.length!==2||n[1]!=="."&&n[1]!==""||(t=!0,n.pop())}let o=0;for(;(o=n.indexOf("..",o+1))!==-1;){const i=n[o-1];if(i&&i!=="."&&i!==".."&&i!=="**"){t=!0;const l=o===1&&n[o+1]==="**"?["."]:[];n.splice(o-1,2,...l),n.length===0&&n.push(""),o-=2}}}}while(t);return e}secondPhasePreProcess(e){for(let t=0;t<e.length-1;t++)for(let n=t+1;n<e.length;n++){const s=this.partsMatch(e[t],e[n],!this.preserveMultipleSlashes);if(s){e[t]=[],e[n]=s;break}}return e.filter((t=>t.length))}partsMatch(e,t){let n=arguments.length>2&&arguments[2]!==void 0&&arguments[2],s=0,o=0,i=[],l="";for(;s<e.length&&o<t.length;)if(e[s]===t[o])i.push(l==="b"?t[o]:e[s]),s++,o++;else if(n&&e[s]==="**"&&t[o]===e[s+1])i.push(e[s]),s++;else if(n&&t[o]==="**"&&e[s]===t[o+1])i.push(t[o]),o++;else if(e[s]!=="*"||!t[o]||!this.options.dot&&t[o].startsWith(".")||t[o]==="**"){if(t[o]!=="*"||!e[s]||!this.options.dot&&e[s].startsWith(".")||e[s]==="**"||l==="a")return!1;l="b",i.push(t[o]),s++,o++}else{if(l==="b")return!1;l="a",i.push(e[s]),s++,o++}return e.length===t.length&&i}parseNegate(){if(this.nonegate)return;const e=this.pattern;let t=!1,n=0;for(let s=0;s<e.length&&e.charAt(s)==="!";s++)t=!t,n++;n&&(this.pattern=e.slice(n)),this.negate=t}matchOne(e,t){let n=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const s=this.options;if(this.isWindows){const m=typeof e[0]=="string"&&/^[a-z]:$/i.test(e[0]),v=!m&&e[0]===""&&e[1]===""&&e[2]==="?"&&/^[a-z]:$/i.test(e[3]),_=typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0]),d=v?3:m?0:void 0,y=!_&&t[0]===""&&t[1]===""&&t[2]==="?"&&typeof t[3]=="string"&&/^[a-z]:$/i.test(t[3])?3:_?0:void 0;if(typeof d=="number"&&typeof y=="number"){const[A,C]=[e[d],t[y]];A.toLowerCase()===C.toLowerCase()&&(t[y]=A,y>d?t=t.slice(y):d>y&&(e=e.slice(d)))}}const{optimizationLevel:o=1}=this.options;o>=2&&(e=this.levelTwoFileOptimize(e)),this.debug("matchOne",this,{file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var i=0,l=0,f=e.length,c=t.length;i<f&&l<c;i++,l++){this.debug("matchOne loop");var a=t[l],h=e[i];if(this.debug(t,a,h),a===!1)return!1;if(a===it){this.debug("GLOBSTAR",[t,a,h]);var u=i,g=l+1;if(g===c){for(this.debug("** at the end");i<f;i++)if(e[i]==="."||e[i]===".."||!s.dot&&e[i].charAt(0)===".")return!1;return!0}for(;u<f;){var p=e[u];if(this.debug(`
globstar while`,e,u,t,g,p),this.matchOne(e.slice(u),t.slice(g),n))return this.debug("globstar found match!",u,f,p),!0;if(p==="."||p===".."||!s.dot&&p.charAt(0)==="."){this.debug("dot detected!",e,u,t,g);break}this.debug("globstar swallow a segment, and continue"),u++}return!(!n||(this.debug(`
>>> no match, partial?`,e,u,t,g),u!==f))}let m;if(typeof a=="string"?(m=h===a,this.debug("string match",a,h,m)):(m=a.test(h),this.debug("pattern match",a,h,m)),!m)return!1}if(i===f&&l===c)return!0;if(i===f)return n;if(l===c)return i===f-1&&e[i]==="";throw new Error("wtf?")}braceExpand(){return es(this.pattern,this.options)}parse(e){tr(e);const t=this.options;if(e==="**")return it;if(e==="")return"";let n,s=null;(n=e.match(ii))?s=t.dot?ai:oi:(n=e.match(Xs))?s=(t.nocase?t.dot?Js:Qs:t.dot?Ks:Ys)(n[1]):(n=e.match(li))?s=(t.nocase?t.dot?ci:ui:t.dot?fi:hi)(n):(n=e.match(ei))?s=t.dot?ri:ti:(n=e.match(ni))&&(s=si);const o=Ze.fromGlob(e,this.options).toMMPattern();return s&&typeof o=="object"&&Reflect.defineProperty(o,"test",{value:s}),o}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;const e=this.set;if(!e.length)return this.regexp=!1,this.regexp;const t=this.options,n=t.noglobstar?"[^/]*?":t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",s=new Set(t.nocase?["i"]:[]);let o=e.map((f=>{const c=f.map((a=>{if(a instanceof RegExp)for(const h of a.flags.split(""))s.add(h);return typeof a=="string"?a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):a===it?it:a._src}));return c.forEach(((a,h)=>{const u=c[h+1],g=c[h-1];a===it&&g!==it&&(g===void 0?u!==void 0&&u!==it?c[h+1]="(?:\\/|"+n+"\\/)?"+u:c[h]=n:u===void 0?c[h-1]=g+"(?:\\/|"+n+")?":u!==it&&(c[h-1]=g+"(?:\\/|\\/"+n+"\\/)"+u,c[h+1]=it))})),c.filter((a=>a!==it)).join("/")})).join("|");const[i,l]=e.length>1?["(?:",")"]:["",""];o="^"+i+o+l+"$",this.negate&&(o="^(?!"+o+").+$");try{this.regexp=new RegExp(o,[...s].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(e){return this.preserveMultipleSlashes?e.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(e)?["",...e.split(/\/+/)]:e.split(/\/+/)}match(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.partial;if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&t)return!0;const n=this.options;this.isWindows&&(e=e.split("\\").join("/"));const s=this.slashSplit(e);this.debug(this.pattern,"split",s);const o=this.set;this.debug(this.pattern,"set",o);let i=s[s.length-1];if(!i)for(let l=s.length-2;!i&&l>=0;l--)i=s[l];for(let l=0;l<o.length;l++){const f=o[l];let c=s;if(n.matchBase&&f.length===1&&(c=[i]),this.matchOne(c,f,t))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate}static defaults(e){return He.defaults(e).Minimatch}}function zr(r){const e=new Error(`${arguments.length>1&&arguments[1]!==void 0?arguments[1]:""}Invalid response: ${r.status} ${r.statusText}`);return e.status=r.status,e.response=r,e}function Be(r,e){const{status:t}=e;if(t===401&&r.digest)return e;if(t>=400)throw zr(e);return e}function At(r,e){return arguments.length>2&&arguments[2]!==void 0&&arguments[2]?{data:e,headers:r.headers?zs(r.headers):{},status:r.status,statusText:r.statusText}:e}He.AST=Ze,He.Minimatch=rr,He.escape=function(r){let{windowsPathsNoEscape:e=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e?r.replace(/[?*()[\]]/g,"[$&]"):r.replace(/[?*()[\]\\]/g,"\\$&")},He.unescape=jt;const pi=(wn=function(r,e,t){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=Fe({url:Me(r.remoteURL,$e(e)),method:"COPY",headers:{Destination:Me(r.remoteURL,$e(t)),Overwrite:n.overwrite===!1?"F":"T",Depth:n.shallow?"0":"infinity"}},r,n);return i=function(l){Be(r,l)},(o=Ue(s,r))&&o.then||(o=Promise.resolve(o)),i?o.then(i):o;var o,i},function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];try{return Promise.resolve(wn.apply(this,r))}catch(t){return Promise.reject(t)}});var wn,jr=Ne(635),gi=Ne(829),mt=Ne.n(gi),St=(function(r){return r.Array="array",r.Object="object",r.Original="original",r})(St||{});function qt(r,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:St.Original;const n=mt().get(r,e);return t==="array"&&Array.isArray(n)===!1?[n]:t==="object"&&Array.isArray(n)?n[0]:n}function Gt(r){return new Promise((e=>{e((function(t){const{multistatus:n}=t;if(n==="")return{multistatus:{response:[]}};if(!n)throw new Error("Invalid response: No root multistatus found");const s={multistatus:Array.isArray(n)?n[0]:n};return mt().set(s,"multistatus.response",qt(s,"multistatus.response",St.Array)),mt().set(s,"multistatus.response",mt().get(s,"multistatus.response").map((o=>(function(i){const l=Object.assign({},i);return l.status?mt().set(l,"status",qt(l,"status",St.Object)):(mt().set(l,"propstat",qt(l,"propstat",St.Object)),mt().set(l,"propstat.prop",qt(l,"propstat.prop",St.Object))),l})(o)))),s})(new jr.XMLParser({allowBooleanAttributes:!0,attributeNamePrefix:"",textNodeName:"text",ignoreAttributes:!1,removeNSPrefix:!0,numberParseOptions:{hex:!0,leadingZeros:!1},attributeValueProcessor:(t,n,s)=>n==="true"||n==="false"?n==="true":n,tagValueProcessor(t,n,s){if(!s.endsWith("propstat.prop.displayname"))return n}}).parse(r)))}))}function ar(r,e){let t=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const{getlastmodified:n=null,getcontentlength:s="0",resourcetype:o=null,getcontenttype:i=null,getetag:l=null}=r,f=o&&typeof o=="object"&&o.collection!==void 0?"directory":"file",c={filename:e,basename:Kt().basename(e),lastmod:n,size:parseInt(s,10),type:f,etag:typeof l=="string"?l.replace(/"/g,""):null};return f==="file"&&(c.mime=i&&typeof i=="string"?i.split(";")[0]:""),t&&(r.displayname!==void 0&&(r.displayname=String(r.displayname)),c.props=r),c}function ts(r,e){let t=arguments.length>2&&arguments[2]!==void 0&&arguments[2],n=null;try{r.multistatus.response[0].propstat&&(n=r.multistatus.response[0])}catch{}if(!n)throw new Error("Failed getting item stat: bad response");const{propstat:{prop:s,status:o}}=n,[i,l,f]=o.split(" ",3),c=parseInt(l,10);if(c>=400){const a=new Error(`Invalid response: ${c} ${f}`);throw a.status=c,a}return ar(s,Wt(e),t)}function rs(r){switch(String(r)){case"-3":return"unlimited";case"-2":case"-1":return"unknown";default:return parseInt(String(r),10)}}function mr(r,e,t){return t?e?e(r):r:(r&&r.then||(r=Promise.resolve(r)),e?r.then(e):r)}const Ur=(function(r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(r.apply(this,e))}catch(n){return Promise.reject(n)}}})((function(r,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{details:n=!1}=t,s=Fe({url:Me(r.remoteURL,$e(e)),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:"0"}},r,t);return mr(Ue(s,r),(function(o){return Be(r,o),mr(o.text(),(function(i){return mr(Gt(i),(function(l){const f=ts(l,e,n);return At(o,f,n)}))}))}))}));function ns(r,e,t){return t?e?e(r):r:(r&&r.then||(r=Promise.resolve(r)),e?r.then(e):r)}const di=ss((function(r,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n=(function(o){if(!o||o==="/")return[];let i=o;const l=[];do l.push(i),i=Kt().dirname(i);while(i&&i!=="/");return l})(Wt(e));n.sort(((o,i)=>o.length>i.length?1:i.length>o.length?-1:0));let s=!1;return(function(o,i,l){if(typeof o[Tn]=="function"){let m=function(v){try{for(;!(f=h.next()).done;)if((v=i(f.value))&&v.then){if(!An(v))return void v.then(m,a||(a=Ye.bind(null,c=new _t,2)));v=v.v}c?Ye(c,1,v):c=v}catch(_){Ye(c||(c=new _t),2,_)}};var f,c,a,h=o[Tn]();if(m(),h.return){var u=function(v){try{f.done||h.return()}catch{}return v};if(c&&c.then)return c.then(u,(function(v){throw u(v)}));u()}return c}if(!("length"in o))throw new TypeError("Object is not iterable");for(var g=[],p=0;p<o.length;p++)g.push(o[p]);return(function(m,v,_){var d,y,A=-1;return(function C(w){try{for(;++A<m.length&&(!_||!_());)if((w=v(A))&&w.then){if(!An(w))return void w.then(C,y||(y=Ye.bind(null,d=new _t,2)));w=w.v}d?Ye(d,1,w):d=w}catch(R){Ye(d||(d=new _t),2,R)}})(),d})(g,(function(m){return i(g[m])}),l)})(n,(function(o){return i=function(){return(function(f,c){try{var a=ns(Ur(r,o),(function(h){if(h.type!=="directory")throw new Error(`Path includes a file: ${e}`)}))}catch(h){return c(h)}return a&&a.then?a.then(void 0,c):a})(0,(function(f){const c=f;return(function(){if(c.status===404)return s=!0,kn(Or(r,o,{...t,recursive:!1}));throw f})()}))},(l=(function(){if(s)return kn(Or(r,o,{...t,recursive:!1}))})())&&l.then?l.then(i):i();var i,l}),(function(){return!1}))}));function ss(r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(r.apply(this,e))}catch(n){return Promise.reject(n)}}}function mi(){}function kn(r,e){return r&&r.then?r.then(mi):Promise.resolve()}const Tn=typeof Symbol<"u"?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function Ye(r,e,t){if(!r.s){if(t instanceof _t){if(!t.s)return void(t.o=Ye.bind(null,r,e));1&e&&(e=t.s),t=t.v}if(t&&t.then)return void t.then(Ye.bind(null,r,e),Ye.bind(null,r,2));r.s=e,r.v=t;const n=r.o;n&&n(r)}}const _t=(function(){function r(){}return r.prototype.then=function(e,t){const n=new r,s=this.s;if(s){const o=1&s?e:t;if(o){try{Ye(n,1,o(this.v))}catch(i){Ye(n,2,i)}return n}return this}return this.o=function(o){try{const i=o.v;1&o.s?Ye(n,1,e?e(i):i):t?Ye(n,1,t(i)):Ye(n,2,i)}catch(i){Ye(n,2,i)}},n},r})();function An(r){return r instanceof _t&&1&r.s}const Or=ss((function(r,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(t.recursive===!0)return di(r,e,t);const n=Fe({url:Me(r.remoteURL,(s=$e(e),s.endsWith("/")?s:s+"/")),method:"MKCOL"},r,t);var s;return ns(Ue(n,r),(function(o){Be(r,o)}))}));var vi=Ne(388),En=Ne.n(vi);const bi=(function(r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(r.apply(this,e))}catch(n){return Promise.reject(n)}}})((function(r,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n={};if(typeof t.range=="object"&&typeof t.range.start=="number"){let l=`bytes=${t.range.start}-`;typeof t.range.end=="number"&&(l=`${l}${t.range.end}`),n.Range=l}const s=Fe({url:Me(r.remoteURL,$e(e)),method:"GET",headers:n},r,t);return i=function(l){if(Be(r,l),n.Range&&l.status!==206){const f=new Error(`Invalid response code for partial request: ${l.status}`);throw f.status=l.status,f}return t.callback&&setTimeout((()=>{t.callback(l)}),0),l.body},(o=Ue(s,r))&&o.then||(o=Promise.resolve(o)),i?o.then(i):o;var o,i})),yi=()=>{},xi=(function(r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(r.apply(this,e))}catch(n){return Promise.reject(n)}}})((function(r,e,t){t.url||(t.url=Me(r.remoteURL,$e(e)));const n=Fe(t,r,{});return o=function(i){return Be(r,i),i},(s=Ue(n,r))&&s.then||(s=Promise.resolve(s)),o?s.then(o):s;var s,o})),wi=(function(r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(r.apply(this,e))}catch(n){return Promise.reject(n)}}})((function(r,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n=Fe({url:Me(r.remoteURL,$e(e)),method:"DELETE"},r,t);return o=function(i){Be(r,i)},(s=Ue(n,r))&&s.then||(s=Promise.resolve(s)),o?s.then(o):s;var s,o})),ki=(function(r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(r.apply(this,e))}catch(n){return Promise.reject(n)}}})((function(r,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return(function(n,s){try{var o=(i=Ur(r,e,t),l=function(){return!0},f?l?l(i):i:(i&&i.then||(i=Promise.resolve(i)),l?i.then(l):i))}catch(c){return s(c)}var i,l,f;return o&&o.then?o.then(void 0,s):o})(0,(function(n){if(n.status===404)return!1;throw n}))}));function vr(r,e,t){return t?e?e(r):r:(r&&r.then||(r=Promise.resolve(r)),e?r.then(e):r)}const Ti=(function(r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(r.apply(this,e))}catch(n){return Promise.reject(n)}}})((function(r,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n=Fe({url:Me(r.remoteURL,$e(e),"/"),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:t.deep?"infinity":"1"}},r,t);return vr(Ue(n,r),(function(s){return Be(r,s),vr(s.text(),(function(o){if(!o)throw new Error("Failed parsing directory contents: Empty response");return vr(Gt(o),(function(i){const l=cn(e);let f=(function(c,a,h){let u=arguments.length>3&&arguments[3]!==void 0&&arguments[3],g=arguments.length>4&&arguments[4]!==void 0&&arguments[4];const p=Kt().join(a,"/"),{multistatus:{response:m}}=c,v=m.map((_=>{const d=(function(A){try{return A.replace(/^https?:\/\/[^\/]+/,"")}catch(C){throw new Ke(C,"Failed normalising HREF")}})(_.href),{propstat:{prop:y}}=_;return ar(y,p==="/"?decodeURIComponent(Wt(d)):Wt(Kt().relative(decodeURIComponent(p),decodeURIComponent(d))),u)}));return g?v:v.filter((_=>_.basename&&(_.type==="file"||_.filename!==h.replace(/\/$/,""))))})(i,cn(r.remoteBasePath||r.remotePath),l,t.details,t.includeSelf);return t.glob&&(f=(function(c,a){return c.filter((h=>He(h.filename,a,{matchBase:!0})))})(f,t.glob)),At(s,f,t.details)}))}))}))}));function Fr(r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(r.apply(this,e))}catch(n){return Promise.reject(n)}}}const Ai=Fr((function(r,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n=Fe({url:Me(r.remoteURL,$e(e)),method:"GET",headers:{Accept:"text/plain"},transformResponse:[_i]},r,t);return nr(Ue(n,r),(function(s){return Be(r,s),nr(s.text(),(function(o){return At(s,o,t.details)}))}))}));function nr(r,e,t){return t?e?e(r):r:(r&&r.then||(r=Promise.resolve(r)),e?r.then(e):r)}const Ei=Fr((function(r,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n=Fe({url:Me(r.remoteURL,$e(e)),method:"GET"},r,t);return nr(Ue(n,r),(function(s){let o;return Be(r,s),(function(i,l){var f=i();return f&&f.then?f.then(l):l()})((function(){return nr(s.arrayBuffer(),(function(i){o=i}))}),(function(){return At(s,o,t.details)}))}))})),Si=Fr((function(r,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{format:n="binary"}=t;if(n!=="binary"&&n!=="text")throw new Ke({info:{code:vt.InvalidOutputFormat}},`Invalid output format: ${n}`);return n==="text"?Ai(r,e,t):Ei(r,e,t)})),_i=r=>r;function Ci(r){return new jr.XMLBuilder({attributeNamePrefix:"@_",format:!0,ignoreAttributes:!1,suppressEmptyNode:!0}).build(is({lockinfo:{"@_xmlns:d":"DAV:",lockscope:{exclusive:{}},locktype:{write:{}},owner:{href:r}}},"d"))}function is(r,e){const t={...r};for(const n in t)t.hasOwnProperty(n)&&(t[n]&&typeof t[n]=="object"&&n.indexOf(":")===-1?(t[`${e}:${n}`]=is(t[n],e),delete t[n]):/^@_/.test(n)===!1&&(t[`${e}:${n}`]=t[n],delete t[n]));return t}function Nr(r,e,t){return t?e?e(r):r:(r&&r.then||(r=Promise.resolve(r)),e?r.then(e):r)}function os(r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(r.apply(this,e))}catch(n){return Promise.reject(n)}}}const Oi=os((function(r,e,t){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=Fe({url:Me(r.remoteURL,$e(e)),method:"UNLOCK",headers:{"Lock-Token":t}},r,n);return Nr(Ue(s,r),(function(o){if(Be(r,o),o.status!==204&&o.status!==200)throw zr(o)}))})),Ni=os((function(r,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{refreshToken:n,timeout:s=Ri}=t,o={Accept:"text/plain,application/xml",Timeout:s};n&&(o.If=n);const i=Fe({url:Me(r.remoteURL,$e(e)),method:"LOCK",headers:o,data:Ci(r.contactHref)},r,t);return Nr(Ue(i,r),(function(l){return Be(r,l),Nr(l.text(),(function(f){const c=(u=f,new jr.XMLParser({removeNSPrefix:!0,parseAttributeValue:!0,parseTagValue:!0}).parse(u)),a=mt().get(c,"prop.lockdiscovery.activelock.locktoken.href"),h=mt().get(c,"prop.lockdiscovery.activelock.timeout");var u;if(!a)throw zr(l,"No lock token received: ");return{token:a,serverTimeout:h}}))}))})),Ri="Infinite, Second-4100000000";function br(r,e,t){return t?e?e(r):r:(r&&r.then||(r=Promise.resolve(r)),e?r.then(e):r)}const Pi=(function(r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(r.apply(this,e))}catch(n){return Promise.reject(n)}}})((function(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const t=e.path||"/",n=Fe({url:Me(r.remoteURL,t),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:"0"}},r,e);return br(Ue(n,r),(function(s){return Be(r,s),br(s.text(),(function(o){return br(Gt(o),(function(i){const l=(function(f){try{const[c]=f.multistatus.response,{propstat:{prop:{"quota-used-bytes":a,"quota-available-bytes":h}}}=c;return a!==void 0&&h!==void 0?{used:parseInt(String(a),10),available:rs(h)}:null}catch{}return null})(i);return At(s,l,e.details)}))}))}))}));function yr(r,e,t){return t?e?e(r):r:(r&&r.then||(r=Promise.resolve(r)),e?r.then(e):r)}const Ii=(function(r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(r.apply(this,e))}catch(n){return Promise.reject(n)}}})((function(r,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{details:n=!1}=t,s=Fe({url:Me(r.remoteURL,$e(e)),method:"SEARCH",headers:{Accept:"text/plain,application/xml","Content-Type":r.headers["Content-Type"]||"application/xml; charset=utf-8"}},r,t);return yr(Ue(s,r),(function(o){return Be(r,o),yr(o.text(),(function(i){return yr(Gt(i),(function(l){const f=(function(c,a,h){const u={truncated:!1,results:[]};return u.truncated=c.multistatus.response.some((g=>(g.status||g.propstat?.status).split(" ",3)?.[1]==="507"&&g.href.replace(/\/$/,"").endsWith($e(a).replace(/\/$/,"")))),c.multistatus.response.forEach((g=>{if(g.propstat===void 0)return;const p=g.href.split("/").map(decodeURIComponent).join("/");u.results.push(ar(g.propstat.prop,p,h))})),u})(l,e,n);return At(o,f,n)}))}))}))})),Li=(function(r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(r.apply(this,e))}catch(n){return Promise.reject(n)}}})((function(r,e,t){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=Fe({url:Me(r.remoteURL,$e(e)),method:"MOVE",headers:{Destination:Me(r.remoteURL,$e(t)),Overwrite:n.overwrite===!1?"F":"T"}},r,n);return i=function(l){Be(r,l)},(o=Ue(s,r))&&o.then||(o=Promise.resolve(o)),i?o.then(i):o;var o,i}));var $i=Ne(172);const Mi=(function(r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(r.apply(this,e))}catch(n){return Promise.reject(n)}}})((function(r,e,t){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const{contentLength:s=!0,overwrite:o=!0}=n,i={"Content-Type":"application/octet-stream"};s===!1||(i["Content-Length"]=typeof s=="number"?`${s}`:`${(function(a){if(Zn(a))return a.byteLength;if(Xn(a))return a.length;if(typeof a=="string")return(0,$i.d)(a);throw new Ke({info:{code:vt.DataTypeNoLength}},"Cannot calculate data length: Invalid type")})(t)}`),o||(i["If-None-Match"]="*");const l=Fe({url:Me(r.remoteURL,$e(e)),method:"PUT",headers:i,data:t},r,n);return c=function(a){try{Be(r,a)}catch(h){const u=h;if(u.status!==412||o)throw u;return!1}return!0},(f=Ue(l,r))&&f.then||(f=Promise.resolve(f)),c?f.then(c):f;var f,c})),as=(function(r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(r.apply(this,e))}catch(n){return Promise.reject(n)}}})((function(r,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n=Fe({url:Me(r.remoteURL,$e(e)),method:"OPTIONS"},r,t);return o=function(i){try{Be(r,i)}catch(l){throw l}return{compliance:(i.headers.get("DAV")??"").split(",").map((l=>l.trim())),server:i.headers.get("Server")??""}},(s=Ue(n,r))&&s.then||(s=Promise.resolve(s)),o?s.then(o):s;var s,o}));function Ft(r,e,t){return t?e?e(r):r:(r&&r.then||(r=Promise.resolve(r)),e?r.then(e):r)}const Di=Br((function(r,e,t,n,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(t>n||t<0)throw new Ke({info:{code:vt.InvalidUpdateRange}},`Invalid update range ${t} for partial update`);const i={"Content-Type":"application/octet-stream","Content-Length":""+(n-t+1),"Content-Range":`bytes ${t}-${n}/*`},l=Fe({url:Me(r.remoteURL,$e(e)),method:"PUT",headers:i,data:s},r,o);return Ft(Ue(l,r),(function(f){Be(r,f)}))}));function Sn(r,e){var t=r();return t&&t.then?t.then(e):e(t)}const zi=Br((function(r,e,t,n,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(t>n||t<0)throw new Ke({info:{code:vt.InvalidUpdateRange}},`Invalid update range ${t} for partial update`);const i={"Content-Type":"application/x-sabredav-partialupdate","Content-Length":""+(n-t+1),"X-Update-Range":`bytes=${t}-${n}`},l=Fe({url:Me(r.remoteURL,$e(e)),method:"PATCH",headers:i,data:s},r,o);return Ft(Ue(l,r),(function(f){Be(r,f)}))}));function Br(r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(r.apply(this,e))}catch(n){return Promise.reject(n)}}}const ji=Br((function(r,e,t,n,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};return Ft(as(r,e,o),(function(i){let l=!1;return Sn((function(){if(i.compliance.includes("sabredav-partialupdate"))return Ft(zi(r,e,t,n,s,o),(function(f){return l=!0,f}))}),(function(f){let c=!1;return l?f:Sn((function(){if(i.server.includes("Apache")&&i.compliance.includes("<http://apache.org/dav/propset/fs/1>"))return Ft(Di(r,e,t,n,s,o),(function(a){return c=!0,a}))}),(function(a){if(c)return a;throw new Ke({info:{code:vt.NotSupported}},"Not supported")}))}))}))})),Ui="https://github.com/perry-mitchell/webdav-client/blob/master/LOCK_CONTACT.md";function Fi(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{authType:t=null,remoteBasePath:n,contactHref:s=Ui,ha1:o,headers:i={},httpAgent:l,httpsAgent:f,password:c,token:a,username:h,withCredentials:u}=e;let g=t;g||(g=h||c?Xe.Password:Xe.None);const p={authType:g,remoteBasePath:n,contactHref:s,ha1:o,headers:Object.assign({},i),httpAgent:l,httpsAgent:f,password:c,remotePath:Os(r),remoteURL:r,token:a,username:h,withCredentials:u};return Hn(p,h,c,a,o),{copyFile:(m,v,_)=>pi(p,m,v,_),createDirectory:(m,v)=>Or(p,m,v),createReadStream:(m,v)=>(function(_,d){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const A=new(En()).PassThrough;return bi(_,d,y).then((C=>{C.pipe(A)})).catch((C=>{A.emit("error",C)})),A})(p,m,v),createWriteStream:(m,v,_)=>(function(d,y){let A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:yi;const w=new(En()).PassThrough,R={};A.overwrite===!1&&(R["If-None-Match"]="*");const S=Fe({url:Me(d.remoteURL,$e(y)),method:"PUT",headers:R,data:w,maxRedirects:0},d,A);return Ue(S,d).then((I=>Be(d,I))).then((I=>{setTimeout((()=>{C(I)}),0)})).catch((I=>{w.emit("error",I)})),w})(p,m,v,_),customRequest:(m,v)=>xi(p,m,v),deleteFile:(m,v)=>wi(p,m,v),exists:(m,v)=>ki(p,m,v),getDirectoryContents:(m,v)=>Ti(p,m,v),getFileContents:(m,v)=>Si(p,m,v),getFileDownloadLink:m=>(function(v,_){let d=Me(v.remoteURL,$e(_));const y=/^https:/i.test(d)?"https":"http";switch(v.authType){case Xe.None:break;case Xe.Password:{const A=hn(v.headers.Authorization.replace(/^Basic /i,"").trim());d=d.replace(/^https?:\/\//,`${y}://${A}@`);break}default:throw new Ke({info:{code:vt.LinkUnsupportedAuthType}},`Unsupported auth type for file link: ${v.authType}`)}return d})(p,m),getFileUploadLink:m=>(function(v,_){let d=`${Me(v.remoteURL,$e(_))}?Content-Type=application/octet-stream`;const y=/^https:/i.test(d)?"https":"http";switch(v.authType){case Xe.None:break;case Xe.Password:{const A=hn(v.headers.Authorization.replace(/^Basic /i,"").trim());d=d.replace(/^https?:\/\//,`${y}://${A}@`);break}default:throw new Ke({info:{code:vt.LinkUnsupportedAuthType}},`Unsupported auth type for file link: ${v.authType}`)}return d})(p,m),getHeaders:()=>Object.assign({},p.headers),getQuota:m=>Pi(p,m),lock:(m,v)=>Ni(p,m,v),moveFile:(m,v,_)=>Li(p,m,v,_),putFileContents:(m,v,_)=>Mi(p,m,v,_),partialUpdateFileContents:(m,v,_,d,y)=>ji(p,m,v,_,d,y),getDAVCompliance:m=>as(p,m),search:(m,v)=>Ii(p,m,v),setHeaders:m=>{p.headers=Object.assign({},m)},stat:(m,v)=>Ur(p,m,v),unlock:(m,v,_)=>Oi(p,m,v,_)}}at.hT;at.O4;at.Kd;at.YK;var Zo=at.UU;at.Gu;at.ky;at.h4;at.ch;at.hq;at.i5;const{entries:ls,setPrototypeOf:_n,isFrozen:Bi,getPrototypeOf:Wi,getOwnPropertyDescriptor:Gi}=Object;let{freeze:Je,seal:ot,create:us}=Object,{apply:Rr,construct:Pr}=typeof Reflect<"u"&&Reflect;Je||(Je=function(e){return e});ot||(ot=function(e){return e});Rr||(Rr=function(e,t,n){return e.apply(t,n)});Pr||(Pr=function(e,t){return new e(...t)});const Vt=et(Array.prototype.forEach),Hi=et(Array.prototype.lastIndexOf),Cn=et(Array.prototype.pop),Pt=et(Array.prototype.push),qi=et(Array.prototype.splice),Yt=et(String.prototype.toLowerCase),xr=et(String.prototype.toString),On=et(String.prototype.match),It=et(String.prototype.replace),Vi=et(String.prototype.indexOf),Zi=et(String.prototype.trim),ut=et(Object.prototype.hasOwnProperty),Ve=et(RegExp.prototype.test),Lt=Xi(TypeError);function et(r){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return Rr(r,e,n)}}function Xi(r){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Pr(r,t)}}function fe(r,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Yt;_n&&_n(r,null);let n=e.length;for(;n--;){let s=e[n];if(typeof s=="string"){const o=t(s);o!==s&&(Bi(e)||(e[n]=o),s=o)}r[s]=!0}return r}function Yi(r){for(let e=0;e<r.length;e++)ut(r,e)||(r[e]=null);return r}function kt(r){const e=us(null);for(const[t,n]of ls(r))ut(r,t)&&(Array.isArray(n)?e[t]=Yi(n):n&&typeof n=="object"&&n.constructor===Object?e[t]=kt(n):e[t]=n);return e}function $t(r,e){for(;r!==null;){const n=Gi(r,e);if(n){if(n.get)return et(n.get);if(typeof n.value=="function")return et(n.value)}r=Wi(r)}function t(){return null}return t}const Nn=Je(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),wr=Je(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),kr=Je(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Ki=Je(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Tr=Je(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Qi=Je(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Rn=Je(["#text"]),Pn=Je(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Ar=Je(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),In=Je(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Zt=Je(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Ji=ot(/\{\{[\w\W]*|[\w\W]*\}\}/gm),eo=ot(/<%[\w\W]*|[\w\W]*%>/gm),to=ot(/\$\{[\w\W]*/gm),ro=ot(/^data-[\-\w.\u00B7-\uFFFF]+$/),no=ot(/^aria-[\-\w]+$/),cs=ot(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),so=ot(/^(?:\w+script|data):/i),io=ot(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),fs=ot(/^html$/i),oo=ot(/^[a-z][.\w]*(-[.\w]+)+$/i);var Ln=Object.freeze({__proto__:null,ARIA_ATTR:no,ATTR_WHITESPACE:io,CUSTOM_ELEMENT:oo,DATA_ATTR:ro,DOCTYPE_NAME:fs,ERB_EXPR:eo,IS_ALLOWED_URI:cs,IS_SCRIPT_OR_DATA:so,MUSTACHE_EXPR:Ji,TMPLIT_EXPR:to});const Mt={element:1,text:3,progressingInstruction:7,comment:8,document:9},ao=function(){return typeof window>"u"?null:window},lo=function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let n=null;const s="data-tt-policy-suffix";t&&t.hasAttribute(s)&&(n=t.getAttribute(s));const o="dompurify"+(n?"#"+n:"");try{return e.createPolicy(o,{createHTML(i){return i},createScriptURL(i){return i}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}},$n=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function hs(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ao();const e=X=>hs(X);if(e.version="3.2.5",e.removed=[],!r||!r.document||r.document.nodeType!==Mt.document||!r.Element)return e.isSupported=!1,e;let{document:t}=r;const n=t,s=n.currentScript,{DocumentFragment:o,HTMLTemplateElement:i,Node:l,Element:f,NodeFilter:c,NamedNodeMap:a=r.NamedNodeMap||r.MozNamedAttrMap,HTMLFormElement:h,DOMParser:u,trustedTypes:g}=r,p=f.prototype,m=$t(p,"cloneNode"),v=$t(p,"remove"),_=$t(p,"nextSibling"),d=$t(p,"childNodes"),y=$t(p,"parentNode");if(typeof i=="function"){const X=t.createElement("template");X.content&&X.content.ownerDocument&&(t=X.content.ownerDocument)}let A,C="";const{implementation:w,createNodeIterator:R,createDocumentFragment:S,getElementsByTagName:I}=t,{importNode:D}=n;let L=$n();e.isSupported=typeof ls=="function"&&typeof y=="function"&&w&&w.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:H,ERB_EXPR:O,TMPLIT_EXPR:z,DATA_ATTR:Y,ARIA_ATTR:Ae,IS_SCRIPT_OR_DATA:De,ATTR_WHITESPACE:Ie,CUSTOM_ELEMENT:he}=Ln;let{IS_ALLOWED_URI:ze}=Ln,Q=null;const Ce=fe({},[...Nn,...wr,...kr,...Tr,...Rn]);let le=null;const j=fe({},[...Pn,...Ar,...In,...Zt]);let be=Object.seal(us(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),x=null,k=null,b=!0,E=!0,N=!1,$=!0,P=!1,Z=!0,U=!1,F=!1,oe=!1,ge=!1,K=!1,ee=!1,G=!0,pe=!1;const ye="user-content-";let J=!0,W=!1,ne={},se=null;const ke=fe({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ae=null;const Oe=fe({},["audio","video","img","source","image","track"]);let V=null;const te=fe({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),B="http://www.w3.org/1998/Math/MathML",Te="http://www.w3.org/2000/svg",ce="http://www.w3.org/1999/xhtml";let ie=ce,ue=!1,de=null;const Ee=fe({},[B,Te,ce],xr);let xe=fe({},["mi","mo","mn","ms","mtext"]),me=fe({},["annotation-xml"]);const Re=fe({},["title","style","font","a","script"]);let ve=null;const Se=["application/xhtml+xml","text/html"],je="text/html";let re=null,Pe=null;const bt=t.createElement("form"),lt=function(T){return T instanceof RegExp||T instanceof Function},nt=function(){let T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Pe&&Pe===T)){if((!T||typeof T!="object")&&(T={}),T=kt(T),ve=Se.indexOf(T.PARSER_MEDIA_TYPE)===-1?je:T.PARSER_MEDIA_TYPE,re=ve==="application/xhtml+xml"?xr:Yt,Q=ut(T,"ALLOWED_TAGS")?fe({},T.ALLOWED_TAGS,re):Ce,le=ut(T,"ALLOWED_ATTR")?fe({},T.ALLOWED_ATTR,re):j,de=ut(T,"ALLOWED_NAMESPACES")?fe({},T.ALLOWED_NAMESPACES,xr):Ee,V=ut(T,"ADD_URI_SAFE_ATTR")?fe(kt(te),T.ADD_URI_SAFE_ATTR,re):te,ae=ut(T,"ADD_DATA_URI_TAGS")?fe(kt(Oe),T.ADD_DATA_URI_TAGS,re):Oe,se=ut(T,"FORBID_CONTENTS")?fe({},T.FORBID_CONTENTS,re):ke,x=ut(T,"FORBID_TAGS")?fe({},T.FORBID_TAGS,re):{},k=ut(T,"FORBID_ATTR")?fe({},T.FORBID_ATTR,re):{},ne=ut(T,"USE_PROFILES")?T.USE_PROFILES:!1,b=T.ALLOW_ARIA_ATTR!==!1,E=T.ALLOW_DATA_ATTR!==!1,N=T.ALLOW_UNKNOWN_PROTOCOLS||!1,$=T.ALLOW_SELF_CLOSE_IN_ATTR!==!1,P=T.SAFE_FOR_TEMPLATES||!1,Z=T.SAFE_FOR_XML!==!1,U=T.WHOLE_DOCUMENT||!1,ge=T.RETURN_DOM||!1,K=T.RETURN_DOM_FRAGMENT||!1,ee=T.RETURN_TRUSTED_TYPE||!1,oe=T.FORCE_BODY||!1,G=T.SANITIZE_DOM!==!1,pe=T.SANITIZE_NAMED_PROPS||!1,J=T.KEEP_CONTENT!==!1,W=T.IN_PLACE||!1,ze=T.ALLOWED_URI_REGEXP||cs,ie=T.NAMESPACE||ce,xe=T.MATHML_TEXT_INTEGRATION_POINTS||xe,me=T.HTML_INTEGRATION_POINTS||me,be=T.CUSTOM_ELEMENT_HANDLING||{},T.CUSTOM_ELEMENT_HANDLING&&lt(T.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(be.tagNameCheck=T.CUSTOM_ELEMENT_HANDLING.tagNameCheck),T.CUSTOM_ELEMENT_HANDLING&&lt(T.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(be.attributeNameCheck=T.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),T.CUSTOM_ELEMENT_HANDLING&&typeof T.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(be.allowCustomizedBuiltInElements=T.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),P&&(E=!1),K&&(ge=!0),ne&&(Q=fe({},Rn),le=[],ne.html===!0&&(fe(Q,Nn),fe(le,Pn)),ne.svg===!0&&(fe(Q,wr),fe(le,Ar),fe(le,Zt)),ne.svgFilters===!0&&(fe(Q,kr),fe(le,Ar),fe(le,Zt)),ne.mathMl===!0&&(fe(Q,Tr),fe(le,In),fe(le,Zt))),T.ADD_TAGS&&(Q===Ce&&(Q=kt(Q)),fe(Q,T.ADD_TAGS,re)),T.ADD_ATTR&&(le===j&&(le=kt(le)),fe(le,T.ADD_ATTR,re)),T.ADD_URI_SAFE_ATTR&&fe(V,T.ADD_URI_SAFE_ATTR,re),T.FORBID_CONTENTS&&(se===ke&&(se=kt(se)),fe(se,T.FORBID_CONTENTS,re)),J&&(Q["#text"]=!0),U&&fe(Q,["html","head","body"]),Q.table&&(fe(Q,["tbody"]),delete x.tbody),T.TRUSTED_TYPES_POLICY){if(typeof T.TRUSTED_TYPES_POLICY.createHTML!="function")throw Lt('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof T.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Lt('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');A=T.TRUSTED_TYPES_POLICY,C=A.createHTML("")}else A===void 0&&(A=lo(g,s)),A!==null&&typeof C=="string"&&(C=A.createHTML(""));Je&&Je(T),Pe=T}},ht=fe({},[...wr,...kr,...Ki]),xt=fe({},[...Tr,...Qi]),yt=function(T){let M=y(T);(!M||!M.tagName)&&(M={namespaceURI:ie,tagName:"template"});const q=Yt(T.tagName),Le=Yt(M.tagName);return de[T.namespaceURI]?T.namespaceURI===Te?M.namespaceURI===ce?q==="svg":M.namespaceURI===B?q==="svg"&&(Le==="annotation-xml"||xe[Le]):!!ht[q]:T.namespaceURI===B?M.namespaceURI===ce?q==="math":M.namespaceURI===Te?q==="math"&&me[Le]:!!xt[q]:T.namespaceURI===ce?M.namespaceURI===Te&&!me[Le]||M.namespaceURI===B&&!xe[Le]?!1:!xt[q]&&(Re[q]||!ht[q]):!!(ve==="application/xhtml+xml"&&de[T.namespaceURI]):!1},rt=function(T){Pt(e.removed,{element:T});try{y(T).removeChild(T)}catch{v(T)}},wt=function(T,M){try{Pt(e.removed,{attribute:M.getAttributeNode(T),from:M})}catch{Pt(e.removed,{attribute:null,from:M})}if(M.removeAttribute(T),T==="is")if(ge||K)try{rt(M)}catch{}else try{M.setAttribute(T,"")}catch{}},Ct=function(T){let M=null,q=null;if(oe)T="<remove></remove>"+T;else{const We=On(T,/^[\r\n\t ]+/);q=We&&We[0]}ve==="application/xhtml+xml"&&ie===ce&&(T='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+T+"</body></html>");const Le=A?A.createHTML(T):T;if(ie===ce)try{M=new u().parseFromString(Le,ve)}catch{}if(!M||!M.documentElement){M=w.createDocument(ie,"template",null);try{M.documentElement.innerHTML=ue?C:Le}catch{}}const Ge=M.body||M.documentElement;return T&&q&&Ge.insertBefore(t.createTextNode(q),Ge.childNodes[0]||null),ie===ce?I.call(M,U?"html":"body")[0]:U?M.documentElement:Ge},Qr=function(T){return R.call(T.ownerDocument||T,T,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},cr=function(T){return T instanceof h&&(typeof T.nodeName!="string"||typeof T.textContent!="string"||typeof T.removeChild!="function"||!(T.attributes instanceof a)||typeof T.removeAttribute!="function"||typeof T.setAttribute!="function"||typeof T.namespaceURI!="string"||typeof T.insertBefore!="function"||typeof T.hasChildNodes!="function")},Jr=function(T){return typeof l=="function"&&T instanceof l};function gt(X,T,M){Vt(X,q=>{q.call(e,T,M,Pe)})}const en=function(T){let M=null;if(gt(L.beforeSanitizeElements,T,null),cr(T))return rt(T),!0;const q=re(T.nodeName);if(gt(L.uponSanitizeElement,T,{tagName:q,allowedTags:Q}),T.hasChildNodes()&&!Jr(T.firstElementChild)&&Ve(/<[/\w!]/g,T.innerHTML)&&Ve(/<[/\w!]/g,T.textContent)||T.nodeType===Mt.progressingInstruction||Z&&T.nodeType===Mt.comment&&Ve(/<[/\w]/g,T.data))return rt(T),!0;if(!Q[q]||x[q]){if(!x[q]&&rn(q)&&(be.tagNameCheck instanceof RegExp&&Ve(be.tagNameCheck,q)||be.tagNameCheck instanceof Function&&be.tagNameCheck(q)))return!1;if(J&&!se[q]){const Le=y(T)||T.parentNode,Ge=d(T)||T.childNodes;if(Ge&&Le){const We=Ge.length;for(let tt=We-1;tt>=0;--tt){const pt=m(Ge[tt],!0);pt.__removalCount=(T.__removalCount||0)+1,Le.insertBefore(pt,_(T))}}}return rt(T),!0}return T instanceof f&&!yt(T)||(q==="noscript"||q==="noembed"||q==="noframes")&&Ve(/<\/no(script|embed|frames)/i,T.innerHTML)?(rt(T),!0):(P&&T.nodeType===Mt.text&&(M=T.textContent,Vt([H,O,z],Le=>{M=It(M,Le," ")}),T.textContent!==M&&(Pt(e.removed,{element:T.cloneNode()}),T.textContent=M)),gt(L.afterSanitizeElements,T,null),!1)},tn=function(T,M,q){if(G&&(M==="id"||M==="name")&&(q in t||q in bt))return!1;if(!(E&&!k[M]&&Ve(Y,M))){if(!(b&&Ve(Ae,M))){if(!le[M]||k[M]){if(!(rn(T)&&(be.tagNameCheck instanceof RegExp&&Ve(be.tagNameCheck,T)||be.tagNameCheck instanceof Function&&be.tagNameCheck(T))&&(be.attributeNameCheck instanceof RegExp&&Ve(be.attributeNameCheck,M)||be.attributeNameCheck instanceof Function&&be.attributeNameCheck(M))||M==="is"&&be.allowCustomizedBuiltInElements&&(be.tagNameCheck instanceof RegExp&&Ve(be.tagNameCheck,q)||be.tagNameCheck instanceof Function&&be.tagNameCheck(q))))return!1}else if(!V[M]){if(!Ve(ze,It(q,Ie,""))){if(!((M==="src"||M==="xlink:href"||M==="href")&&T!=="script"&&Vi(q,"data:")===0&&ae[T])){if(!(N&&!Ve(De,It(q,Ie,"")))){if(q)return!1}}}}}}return!0},rn=function(T){return T!=="annotation-xml"&&On(T,he)},nn=function(T){gt(L.beforeSanitizeAttributes,T,null);const{attributes:M}=T;if(!M||cr(T))return;const q={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:le,forceKeepAttr:void 0};let Le=M.length;for(;Le--;){const Ge=M[Le],{name:We,namespaceURI:tt,value:pt}=Ge,Ot=re(We);let qe=We==="value"?pt:Zi(pt);if(q.attrName=Ot,q.attrValue=qe,q.keepAttr=!0,q.forceKeepAttr=void 0,gt(L.uponSanitizeAttribute,T,q),qe=q.attrValue,pe&&(Ot==="id"||Ot==="name")&&(wt(We,T),qe=ye+qe),Z&&Ve(/((--!?|])>)|<\/(style|title)/i,qe)){wt(We,T);continue}if(q.forceKeepAttr||(wt(We,T),!q.keepAttr))continue;if(!$&&Ve(/\/>/i,qe)){wt(We,T);continue}P&&Vt([H,O,z],on=>{qe=It(qe,on," ")});const sn=re(T.nodeName);if(tn(sn,Ot,qe)){if(A&&typeof g=="object"&&typeof g.getAttributeType=="function"&&!tt)switch(g.getAttributeType(sn,Ot)){case"TrustedHTML":{qe=A.createHTML(qe);break}case"TrustedScriptURL":{qe=A.createScriptURL(qe);break}}try{tt?T.setAttributeNS(tt,We,qe):T.setAttribute(We,qe),cr(T)?rt(T):Cn(e.removed)}catch{}}}gt(L.afterSanitizeAttributes,T,null)},As=function X(T){let M=null;const q=Qr(T);for(gt(L.beforeSanitizeShadowDOM,T,null);M=q.nextNode();)gt(L.uponSanitizeShadowNode,M,null),en(M),nn(M),M.content instanceof o&&X(M.content);gt(L.afterSanitizeShadowDOM,T,null)};return e.sanitize=function(X){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},M=null,q=null,Le=null,Ge=null;if(ue=!X,ue&&(X="<!-->"),typeof X!="string"&&!Jr(X))if(typeof X.toString=="function"){if(X=X.toString(),typeof X!="string")throw Lt("dirty is not a string, aborting")}else throw Lt("toString is not a function");if(!e.isSupported)return X;if(F||nt(T),e.removed=[],typeof X=="string"&&(W=!1),W){if(X.nodeName){const pt=re(X.nodeName);if(!Q[pt]||x[pt])throw Lt("root node is forbidden and cannot be sanitized in-place")}}else if(X instanceof l)M=Ct("<!---->"),q=M.ownerDocument.importNode(X,!0),q.nodeType===Mt.element&&q.nodeName==="BODY"||q.nodeName==="HTML"?M=q:M.appendChild(q);else{if(!ge&&!P&&!U&&X.indexOf("<")===-1)return A&&ee?A.createHTML(X):X;if(M=Ct(X),!M)return ge?null:ee?C:""}M&&oe&&rt(M.firstChild);const We=Qr(W?X:M);for(;Le=We.nextNode();)en(Le),nn(Le),Le.content instanceof o&&As(Le.content);if(W)return X;if(ge){if(K)for(Ge=S.call(M.ownerDocument);M.firstChild;)Ge.appendChild(M.firstChild);else Ge=M;return(le.shadowroot||le.shadowrootmode)&&(Ge=D.call(n,Ge,!0)),Ge}let tt=U?M.outerHTML:M.innerHTML;return U&&Q["!doctype"]&&M.ownerDocument&&M.ownerDocument.doctype&&M.ownerDocument.doctype.name&&Ve(fs,M.ownerDocument.doctype.name)&&(tt="<!DOCTYPE "+M.ownerDocument.doctype.name+`>
`+tt),P&&Vt([H,O,z],pt=>{tt=It(tt,pt," ")}),A&&ee?A.createHTML(tt):tt},e.setConfig=function(){let X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};nt(X),F=!0},e.clearConfig=function(){Pe=null,F=!1},e.isValidAttribute=function(X,T,M){Pe||nt({});const q=re(X),Le=re(T);return tn(q,Le,M)},e.addHook=function(X,T){typeof T=="function"&&Pt(L[X],T)},e.removeHook=function(X,T){if(T!==void 0){const M=Hi(L[X],T);return M===-1?void 0:qi(L[X],M,1)[0]}return Cn(L[X])},e.removeHooks=function(X){L[X]=[]},e.removeAllHooks=function(){L=$n()},e}var Xo=hs();function Wr(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Et=Wr();function ps(r){Et=r}var Bt={exec:()=>null};function we(r,e=""){let t=typeof r=="string"?r:r.source,n={replace:(s,o)=>{let i=typeof o=="string"?o:o.source;return i=i.replace(Qe.caret,"$1"),t=t.replace(s,i),n},getRegex:()=>new RegExp(t,e)};return n}var uo=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),Qe={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,listTaskCheckbox:/\[[ xX]\]/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:r=>new RegExp(`^( {0,3}${r})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}#`),htmlBeginRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}<(?:[a-z].*>|!--)`,"i")},co=/^(?:[ \t]*(?:\n|$))+/,fo=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,ho=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Ht=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,po=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Gr=/(?:[*+-]|\d{1,9}[.)])/,gs=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,ds=we(gs).replace(/bull/g,Gr).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),go=we(gs).replace(/bull/g,Gr).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Hr=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,mo=/^[^\n]+/,qr=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,vo=we(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",qr).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),bo=we(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Gr).getRegex(),lr="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Vr=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,yo=we("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Vr).replace("tag",lr).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),ms=we(Hr).replace("hr",Ht).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",lr).getRegex(),xo=we(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",ms).getRegex(),Zr={blockquote:xo,code:fo,def:vo,fences:ho,heading:po,hr:Ht,html:yo,lheading:ds,list:bo,newline:co,paragraph:ms,table:Bt,text:mo},Mn=we("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Ht).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",lr).getRegex(),wo={...Zr,lheading:go,table:Mn,paragraph:we(Hr).replace("hr",Ht).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Mn).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",lr).getRegex()},ko={...Zr,html:we(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Vr).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Bt,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:we(Hr).replace("hr",Ht).replace("heading",` *#{1,6} *[^
]`).replace("lheading",ds).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},To=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Ao=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,vs=/^( {2,}|\\)\n(?!\s*$)/,Eo=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,ur=/[\p{P}\p{S}]/u,Xr=/[\s\p{P}\p{S}]/u,bs=/[^\s\p{P}\p{S}]/u,So=we(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Xr).getRegex(),ys=/(?!~)[\p{P}\p{S}]/u,_o=/(?!~)[\s\p{P}\p{S}]/u,Co=/(?:[^\s\p{P}\p{S}]|~)/u,Oo=we(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",uo?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),xs=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,No=we(xs,"u").replace(/punct/g,ur).getRegex(),Ro=we(xs,"u").replace(/punct/g,ys).getRegex(),ws="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",Po=we(ws,"gu").replace(/notPunctSpace/g,bs).replace(/punctSpace/g,Xr).replace(/punct/g,ur).getRegex(),Io=we(ws,"gu").replace(/notPunctSpace/g,Co).replace(/punctSpace/g,_o).replace(/punct/g,ys).getRegex(),Lo=we("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,bs).replace(/punctSpace/g,Xr).replace(/punct/g,ur).getRegex(),$o=we(/\\(punct)/,"gu").replace(/punct/g,ur).getRegex(),Mo=we(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Do=we(Vr).replace("(?:-->|$)","-->").getRegex(),zo=we("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Do).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),sr=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,jo=we(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",sr).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),ks=we(/^!?\[(label)\]\[(ref)\]/).replace("label",sr).replace("ref",qr).getRegex(),Ts=we(/^!?\[(ref)\](?:\[\])?/).replace("ref",qr).getRegex(),Uo=we("reflink|nolink(?!\\()","g").replace("reflink",ks).replace("nolink",Ts).getRegex(),Dn=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,Yr={_backpedal:Bt,anyPunctuation:$o,autolink:Mo,blockSkip:Oo,br:vs,code:Ao,del:Bt,emStrongLDelim:No,emStrongRDelimAst:Po,emStrongRDelimUnd:Lo,escape:To,link:jo,nolink:Ts,punctuation:So,reflink:ks,reflinkSearch:Uo,tag:zo,text:Eo,url:Bt},Fo={...Yr,link:we(/^!?\[(label)\]\((.*?)\)/).replace("label",sr).getRegex(),reflink:we(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",sr).getRegex()},Ir={...Yr,emStrongRDelimAst:Io,emStrongLDelim:Ro,url:we(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",Dn).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:we(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",Dn).getRegex()},Bo={...Ir,br:we(vs).replace("{2,}","*").getRegex(),text:we(Ir.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Xt={normal:Zr,gfm:wo,pedantic:ko},Dt={normal:Yr,gfm:Ir,breaks:Bo,pedantic:Fo},Wo={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},zn=r=>Wo[r];function dt(r,e){if(e){if(Qe.escapeTest.test(r))return r.replace(Qe.escapeReplace,zn)}else if(Qe.escapeTestNoEncode.test(r))return r.replace(Qe.escapeReplaceNoEncode,zn);return r}function jn(r){try{r=encodeURI(r).replace(Qe.percentDecode,"%")}catch{return null}return r}function Un(r,e){let t=r.replace(Qe.findPipe,(o,i,l)=>{let f=!1,c=i;for(;--c>=0&&l[c]==="\\";)f=!f;return f?"|":" |"}),n=t.split(Qe.splitPipe),s=0;if(n[0].trim()||n.shift(),n.length>0&&!n.at(-1)?.trim()&&n.pop(),e)if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;s<n.length;s++)n[s]=n[s].trim().replace(Qe.slashPipe,"|");return n}function zt(r,e,t){let n=r.length;if(n===0)return"";let s=0;for(;s<n&&r.charAt(n-s-1)===e;)s++;return r.slice(0,n-s)}function Go(r,e){if(r.indexOf(e[1])===-1)return-1;let t=0;for(let n=0;n<r.length;n++)if(r[n]==="\\")n++;else if(r[n]===e[0])t++;else if(r[n]===e[1]&&(t--,t<0))return n;return t>0?-2:-1}function Fn(r,e,t,n,s){let o=e.href,i=e.title||null,l=r[1].replace(s.other.outputLinkReplace,"$1");n.state.inLink=!0;let f={type:r[0].charAt(0)==="!"?"image":"link",raw:t,href:o,title:i,text:l,tokens:n.inlineTokens(l)};return n.state.inLink=!1,f}function Ho(r,e,t){let n=r.match(t.other.indentCodeCompensation);if(n===null)return e;let s=n[1];return e.split(`
`).map(o=>{let i=o.match(t.other.beginningSpace);if(i===null)return o;let[l]=i;return l.length>=s.length?o.slice(s.length):o}).join(`
`)}var ir=class{options;rules;lexer;constructor(r){this.options=r||Et}space(r){let e=this.rules.block.newline.exec(r);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(r){let e=this.rules.block.code.exec(r);if(e){let t=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?t:zt(t,`
`)}}}fences(r){let e=this.rules.block.fences.exec(r);if(e){let t=e[0],n=Ho(t,e[3]||"",this.rules);return{type:"code",raw:t,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:n}}}heading(r){let e=this.rules.block.heading.exec(r);if(e){let t=e[2].trim();if(this.rules.other.endingHash.test(t)){let n=zt(t,"#");(this.options.pedantic||!n||this.rules.other.endingSpaceChar.test(n))&&(t=n.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:t,tokens:this.lexer.inline(t)}}}hr(r){let e=this.rules.block.hr.exec(r);if(e)return{type:"hr",raw:zt(e[0],`
`)}}blockquote(r){let e=this.rules.block.blockquote.exec(r);if(e){let t=zt(e[0],`
`).split(`
`),n="",s="",o=[];for(;t.length>0;){let i=!1,l=[],f;for(f=0;f<t.length;f++)if(this.rules.other.blockquoteStart.test(t[f]))l.push(t[f]),i=!0;else if(!i)l.push(t[f]);else break;t=t.slice(f);let c=l.join(`
`),a=c.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");n=n?`${n}
${c}`:c,s=s?`${s}
${a}`:a;let h=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(a,o,!0),this.lexer.state.top=h,t.length===0)break;let u=o.at(-1);if(u?.type==="code")break;if(u?.type==="blockquote"){let g=u,p=g.raw+`
`+t.join(`
`),m=this.blockquote(p);o[o.length-1]=m,n=n.substring(0,n.length-g.raw.length)+m.raw,s=s.substring(0,s.length-g.text.length)+m.text;break}else if(u?.type==="list"){let g=u,p=g.raw+`
`+t.join(`
`),m=this.list(p);o[o.length-1]=m,n=n.substring(0,n.length-u.raw.length)+m.raw,s=s.substring(0,s.length-g.raw.length)+m.raw,t=p.substring(o.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:n,tokens:o,text:s}}}list(r){let e=this.rules.block.list.exec(r);if(e){let t=e[1].trim(),n=t.length>1,s={type:"list",raw:"",ordered:n,start:n?+t.slice(0,-1):"",loose:!1,items:[]};t=n?`\\d{1,9}\\${t.slice(-1)}`:`\\${t}`,this.options.pedantic&&(t=n?t:"[*+-]");let o=this.rules.other.listItemRegex(t),i=!1;for(;r;){let f=!1,c="",a="";if(!(e=o.exec(r))||this.rules.block.hr.test(r))break;c=e[0],r=r.substring(c.length);let h=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,v=>" ".repeat(3*v.length)),u=r.split(`
`,1)[0],g=!h.trim(),p=0;if(this.options.pedantic?(p=2,a=h.trimStart()):g?p=e[1].length+1:(p=e[2].search(this.rules.other.nonSpaceChar),p=p>4?1:p,a=h.slice(p),p+=e[1].length),g&&this.rules.other.blankLine.test(u)&&(c+=u+`
`,r=r.substring(u.length+1),f=!0),!f){let v=this.rules.other.nextBulletRegex(p),_=this.rules.other.hrRegex(p),d=this.rules.other.fencesBeginRegex(p),y=this.rules.other.headingBeginRegex(p),A=this.rules.other.htmlBeginRegex(p);for(;r;){let C=r.split(`
`,1)[0],w;if(u=C,this.options.pedantic?(u=u.replace(this.rules.other.listReplaceNesting,"  "),w=u):w=u.replace(this.rules.other.tabCharGlobal,"    "),d.test(u)||y.test(u)||A.test(u)||v.test(u)||_.test(u))break;if(w.search(this.rules.other.nonSpaceChar)>=p||!u.trim())a+=`
`+w.slice(p);else{if(g||h.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||d.test(h)||y.test(h)||_.test(h))break;a+=`
`+u}!g&&!u.trim()&&(g=!0),c+=C+`
`,r=r.substring(C.length+1),h=w.slice(p)}}s.loose||(i?s.loose=!0:this.rules.other.doubleBlankLine.test(c)&&(i=!0));let m=null;this.options.gfm&&(m=this.rules.other.listIsTask.exec(a),m&&(a=a.replace(this.rules.other.listReplaceTask,""))),s.items.push({type:"list_item",raw:c,task:!!m,loose:!1,text:a,tokens:[]}),s.raw+=c}let l=s.items.at(-1);if(l)l.raw=l.raw.trimEnd(),l.text=l.text.trimEnd();else return;s.raw=s.raw.trimEnd();for(let f of s.items){if(this.lexer.state.top=!1,f.tokens=this.lexer.blockTokens(f.text,[]),f.task){let c=this.rules.other.listTaskCheckbox.exec(f.raw);if(c){let a={type:"checkbox",raw:c[0]+" ",checked:c[0]!=="[ ]"};f.checked=a.checked,s.loose?f.tokens[0]&&["paragraph","text"].includes(f.tokens[0].type)&&"tokens"in f.tokens[0]&&f.tokens[0].tokens?(f.tokens[0].raw=a.raw+f.tokens[0].raw,f.tokens[0].text=a.raw+f.tokens[0].text,f.tokens[0].tokens.unshift(a)):f.tokens.unshift({type:"paragraph",raw:a.raw,text:a.raw,tokens:[a]}):f.tokens.unshift(a)}}if(!s.loose){let c=f.tokens.filter(h=>h.type==="space"),a=c.length>0&&c.some(h=>this.rules.other.anyLine.test(h.raw));s.loose=a}}if(s.loose)for(let f of s.items){f.loose=!0;for(let c of f.tokens)c.type==="text"&&(c.type="paragraph")}return s}}html(r){let e=this.rules.block.html.exec(r);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(r){let e=this.rules.block.def.exec(r);if(e){let t=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),n=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:t,raw:e[0],href:n,title:s}}}table(r){let e=this.rules.block.table.exec(r);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;let t=Un(e[1]),n=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),s=e[3]?.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],o={type:"table",raw:e[0],header:[],align:[],rows:[]};if(t.length===n.length){for(let i of n)this.rules.other.tableAlignRight.test(i)?o.align.push("right"):this.rules.other.tableAlignCenter.test(i)?o.align.push("center"):this.rules.other.tableAlignLeft.test(i)?o.align.push("left"):o.align.push(null);for(let i=0;i<t.length;i++)o.header.push({text:t[i],tokens:this.lexer.inline(t[i]),header:!0,align:o.align[i]});for(let i of s)o.rows.push(Un(i,o.header.length).map((l,f)=>({text:l,tokens:this.lexer.inline(l),header:!1,align:o.align[f]})));return o}}lheading(r){let e=this.rules.block.lheading.exec(r);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(r){let e=this.rules.block.paragraph.exec(r);if(e){let t=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:t,tokens:this.lexer.inline(t)}}}text(r){let e=this.rules.block.text.exec(r);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(r){let e=this.rules.inline.escape.exec(r);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(r){let e=this.rules.inline.tag.exec(r);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(r){let e=this.rules.inline.link.exec(r);if(e){let t=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(t)){if(!this.rules.other.endAngleBracket.test(t))return;let o=zt(t.slice(0,-1),"\\");if((t.length-o.length)%2===0)return}else{let o=Go(e[2],"()");if(o===-2)return;if(o>-1){let i=(e[0].indexOf("!")===0?5:4)+e[1].length+o;e[2]=e[2].substring(0,o),e[0]=e[0].substring(0,i).trim(),e[3]=""}}let n=e[2],s="";if(this.options.pedantic){let o=this.rules.other.pedanticHrefTitle.exec(n);o&&(n=o[1],s=o[3])}else s=e[3]?e[3].slice(1,-1):"";return n=n.trim(),this.rules.other.startAngleBracket.test(n)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(t)?n=n.slice(1):n=n.slice(1,-1)),Fn(e,{href:n&&n.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(r,e){let t;if((t=this.rules.inline.reflink.exec(r))||(t=this.rules.inline.nolink.exec(r))){let n=(t[2]||t[1]).replace(this.rules.other.multipleSpaceGlobal," "),s=e[n.toLowerCase()];if(!s){let o=t[0].charAt(0);return{type:"text",raw:o,text:o}}return Fn(t,s,t[0],this.lexer,this.rules)}}emStrong(r,e,t=""){let n=this.rules.inline.emStrongLDelim.exec(r);if(!(!n||n[3]&&t.match(this.rules.other.unicodeAlphaNumeric))&&(!(n[1]||n[2])||!t||this.rules.inline.punctuation.exec(t))){let s=[...n[0]].length-1,o,i,l=s,f=0,c=n[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(c.lastIndex=0,e=e.slice(-1*r.length+s);(n=c.exec(e))!=null;){if(o=n[1]||n[2]||n[3]||n[4]||n[5]||n[6],!o)continue;if(i=[...o].length,n[3]||n[4]){l+=i;continue}else if((n[5]||n[6])&&s%3&&!((s+i)%3)){f+=i;continue}if(l-=i,l>0)continue;i=Math.min(i,i+l+f);let a=[...n[0]][0].length,h=r.slice(0,s+n.index+a+i);if(Math.min(s,i)%2){let g=h.slice(1,-1);return{type:"em",raw:h,text:g,tokens:this.lexer.inlineTokens(g)}}let u=h.slice(2,-2);return{type:"strong",raw:h,text:u,tokens:this.lexer.inlineTokens(u)}}}}codespan(r){let e=this.rules.inline.code.exec(r);if(e){let t=e[2].replace(this.rules.other.newLineCharGlobal," "),n=this.rules.other.nonSpaceChar.test(t),s=this.rules.other.startingSpaceChar.test(t)&&this.rules.other.endingSpaceChar.test(t);return n&&s&&(t=t.substring(1,t.length-1)),{type:"codespan",raw:e[0],text:t}}}br(r){let e=this.rules.inline.br.exec(r);if(e)return{type:"br",raw:e[0]}}del(r){let e=this.rules.inline.del.exec(r);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(r){let e=this.rules.inline.autolink.exec(r);if(e){let t,n;return e[2]==="@"?(t=e[1],n="mailto:"+t):(t=e[1],n=t),{type:"link",raw:e[0],text:t,href:n,tokens:[{type:"text",raw:t,text:t}]}}}url(r){let e;if(e=this.rules.inline.url.exec(r)){let t,n;if(e[2]==="@")t=e[0],n="mailto:"+t;else{let s;do s=e[0],e[0]=this.rules.inline._backpedal.exec(e[0])?.[0]??"";while(s!==e[0]);t=e[0],e[1]==="www."?n="http://"+e[0]:n=e[0]}return{type:"link",raw:e[0],text:t,href:n,tokens:[{type:"text",raw:t,text:t}]}}}inlineText(r){let e=this.rules.inline.text.exec(r);if(e){let t=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:t}}}},ct=class Lr{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Et,this.options.tokenizer=this.options.tokenizer||new ir,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let t={other:Qe,block:Xt.normal,inline:Dt.normal};this.options.pedantic?(t.block=Xt.pedantic,t.inline=Dt.pedantic):this.options.gfm&&(t.block=Xt.gfm,this.options.breaks?t.inline=Dt.breaks:t.inline=Dt.gfm),this.tokenizer.rules=t}static get rules(){return{block:Xt,inline:Dt}}static lex(e,t){return new Lr(t).lex(e)}static lexInline(e,t){return new Lr(t).inlineTokens(e)}lex(e){e=e.replace(Qe.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){let n=this.inlineQueue[t];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],n=!1){for(this.options.pedantic&&(e=e.replace(Qe.tabCharGlobal,"    ").replace(Qe.spaceLine,""));e;){let s;if(this.options.extensions?.block?.some(i=>(s=i.call({lexer:this},e,t))?(e=e.substring(s.raw.length),t.push(s),!0):!1))continue;if(s=this.tokenizer.space(e)){e=e.substring(s.raw.length);let i=t.at(-1);s.raw.length===1&&i!==void 0?i.raw+=`
`:t.push(s);continue}if(s=this.tokenizer.code(e)){e=e.substring(s.raw.length);let i=t.at(-1);i?.type==="paragraph"||i?.type==="text"?(i.raw+=(i.raw.endsWith(`
`)?"":`
`)+s.raw,i.text+=`
`+s.text,this.inlineQueue.at(-1).src=i.text):t.push(s);continue}if(s=this.tokenizer.fences(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.heading(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.hr(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.blockquote(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.list(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.html(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.def(e)){e=e.substring(s.raw.length);let i=t.at(-1);i?.type==="paragraph"||i?.type==="text"?(i.raw+=(i.raw.endsWith(`
`)?"":`
`)+s.raw,i.text+=`
`+s.raw,this.inlineQueue.at(-1).src=i.text):this.tokens.links[s.tag]||(this.tokens.links[s.tag]={href:s.href,title:s.title},t.push(s));continue}if(s=this.tokenizer.table(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.lheading(e)){e=e.substring(s.raw.length),t.push(s);continue}let o=e;if(this.options.extensions?.startBlock){let i=1/0,l=e.slice(1),f;this.options.extensions.startBlock.forEach(c=>{f=c.call({lexer:this},l),typeof f=="number"&&f>=0&&(i=Math.min(i,f))}),i<1/0&&i>=0&&(o=e.substring(0,i+1))}if(this.state.top&&(s=this.tokenizer.paragraph(o))){let i=t.at(-1);n&&i?.type==="paragraph"?(i.raw+=(i.raw.endsWith(`
`)?"":`
`)+s.raw,i.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=i.text):t.push(s),n=o.length!==e.length,e=e.substring(s.raw.length);continue}if(s=this.tokenizer.text(e)){e=e.substring(s.raw.length);let i=t.at(-1);i?.type==="text"?(i.raw+=(i.raw.endsWith(`
`)?"":`
`)+s.raw,i.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=i.text):t.push(s);continue}if(e){let i="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(i);break}else throw new Error(i)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n=e,s=null;if(this.tokens.links){let f=Object.keys(this.tokens.links);if(f.length>0)for(;(s=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)f.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(s=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,s.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let o;for(;(s=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)o=s[2]?s[2].length:0,n=n.slice(0,s.index+o)+"["+"a".repeat(s[0].length-o-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);n=this.options.hooks?.emStrongMask?.call({lexer:this},n)??n;let i=!1,l="";for(;e;){i||(l=""),i=!1;let f;if(this.options.extensions?.inline?.some(a=>(f=a.call({lexer:this},e,t))?(e=e.substring(f.raw.length),t.push(f),!0):!1))continue;if(f=this.tokenizer.escape(e)){e=e.substring(f.raw.length),t.push(f);continue}if(f=this.tokenizer.tag(e)){e=e.substring(f.raw.length),t.push(f);continue}if(f=this.tokenizer.link(e)){e=e.substring(f.raw.length),t.push(f);continue}if(f=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(f.raw.length);let a=t.at(-1);f.type==="text"&&a?.type==="text"?(a.raw+=f.raw,a.text+=f.text):t.push(f);continue}if(f=this.tokenizer.emStrong(e,n,l)){e=e.substring(f.raw.length),t.push(f);continue}if(f=this.tokenizer.codespan(e)){e=e.substring(f.raw.length),t.push(f);continue}if(f=this.tokenizer.br(e)){e=e.substring(f.raw.length),t.push(f);continue}if(f=this.tokenizer.del(e)){e=e.substring(f.raw.length),t.push(f);continue}if(f=this.tokenizer.autolink(e)){e=e.substring(f.raw.length),t.push(f);continue}if(!this.state.inLink&&(f=this.tokenizer.url(e))){e=e.substring(f.raw.length),t.push(f);continue}let c=e;if(this.options.extensions?.startInline){let a=1/0,h=e.slice(1),u;this.options.extensions.startInline.forEach(g=>{u=g.call({lexer:this},h),typeof u=="number"&&u>=0&&(a=Math.min(a,u))}),a<1/0&&a>=0&&(c=e.substring(0,a+1))}if(f=this.tokenizer.inlineText(c)){e=e.substring(f.raw.length),f.raw.slice(-1)!=="_"&&(l=f.raw.slice(-1)),i=!0;let a=t.at(-1);a?.type==="text"?(a.raw+=f.raw,a.text+=f.text):t.push(f);continue}if(e){let a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return t}},or=class{options;parser;constructor(r){this.options=r||Et}space(r){return""}code({text:r,lang:e,escaped:t}){let n=(e||"").match(Qe.notSpaceStart)?.[0],s=r.replace(Qe.endingNewline,"")+`
`;return n?'<pre><code class="language-'+dt(n)+'">'+(t?s:dt(s,!0))+`</code></pre>
`:"<pre><code>"+(t?s:dt(s,!0))+`</code></pre>
`}blockquote({tokens:r}){return`<blockquote>
${this.parser.parse(r)}</blockquote>
`}html({text:r}){return r}def(r){return""}heading({tokens:r,depth:e}){return`<h${e}>${this.parser.parseInline(r)}</h${e}>
`}hr(r){return`<hr>
`}list(r){let e=r.ordered,t=r.start,n="";for(let i=0;i<r.items.length;i++){let l=r.items[i];n+=this.listitem(l)}let s=e?"ol":"ul",o=e&&t!==1?' start="'+t+'"':"";return"<"+s+o+`>
`+n+"</"+s+`>
`}listitem(r){return`<li>${this.parser.parse(r.tokens)}</li>
`}checkbox({checked:r}){return"<input "+(r?'checked="" ':"")+'disabled="" type="checkbox"> '}paragraph({tokens:r}){return`<p>${this.parser.parseInline(r)}</p>
`}table(r){let e="",t="";for(let s=0;s<r.header.length;s++)t+=this.tablecell(r.header[s]);e+=this.tablerow({text:t});let n="";for(let s=0;s<r.rows.length;s++){let o=r.rows[s];t="";for(let i=0;i<o.length;i++)t+=this.tablecell(o[i]);n+=this.tablerow({text:t})}return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+n+`</table>
`}tablerow({text:r}){return`<tr>
${r}</tr>
`}tablecell(r){let e=this.parser.parseInline(r.tokens),t=r.header?"th":"td";return(r.align?`<${t} align="${r.align}">`:`<${t}>`)+e+`</${t}>
`}strong({tokens:r}){return`<strong>${this.parser.parseInline(r)}</strong>`}em({tokens:r}){return`<em>${this.parser.parseInline(r)}</em>`}codespan({text:r}){return`<code>${dt(r,!0)}</code>`}br(r){return"<br>"}del({tokens:r}){return`<del>${this.parser.parseInline(r)}</del>`}link({href:r,title:e,tokens:t}){let n=this.parser.parseInline(t),s=jn(r);if(s===null)return n;r=s;let o='<a href="'+r+'"';return e&&(o+=' title="'+dt(e)+'"'),o+=">"+n+"</a>",o}image({href:r,title:e,text:t,tokens:n}){n&&(t=this.parser.parseInline(n,this.parser.textRenderer));let s=jn(r);if(s===null)return dt(t);r=s;let o=`<img src="${r}" alt="${t}"`;return e&&(o+=` title="${dt(e)}"`),o+=">",o}text(r){return"tokens"in r&&r.tokens?this.parser.parseInline(r.tokens):"escaped"in r&&r.escaped?r.text:dt(r.text)}},Kr=class{strong({text:r}){return r}em({text:r}){return r}codespan({text:r}){return r}del({text:r}){return r}html({text:r}){return r}text({text:r}){return r}link({text:r}){return""+r}image({text:r}){return""+r}br(){return""}checkbox({raw:r}){return r}},ft=class $r{options;renderer;textRenderer;constructor(e){this.options=e||Et,this.options.renderer=this.options.renderer||new or,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Kr}static parse(e,t){return new $r(t).parse(e)}static parseInline(e,t){return new $r(t).parseInline(e)}parse(e){let t="";for(let n=0;n<e.length;n++){let s=e[n];if(this.options.extensions?.renderers?.[s.type]){let i=s,l=this.options.extensions.renderers[i.type].call({parser:this},i);if(l!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(i.type)){t+=l||"";continue}}let o=s;switch(o.type){case"space":{t+=this.renderer.space(o);break}case"hr":{t+=this.renderer.hr(o);break}case"heading":{t+=this.renderer.heading(o);break}case"code":{t+=this.renderer.code(o);break}case"table":{t+=this.renderer.table(o);break}case"blockquote":{t+=this.renderer.blockquote(o);break}case"list":{t+=this.renderer.list(o);break}case"checkbox":{t+=this.renderer.checkbox(o);break}case"html":{t+=this.renderer.html(o);break}case"def":{t+=this.renderer.def(o);break}case"paragraph":{t+=this.renderer.paragraph(o);break}case"text":{t+=this.renderer.text(o);break}default:{let i='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(i),"";throw new Error(i)}}}return t}parseInline(e,t=this.renderer){let n="";for(let s=0;s<e.length;s++){let o=e[s];if(this.options.extensions?.renderers?.[o.type]){let l=this.options.extensions.renderers[o.type].call({parser:this},o);if(l!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){n+=l||"";continue}}let i=o;switch(i.type){case"escape":{n+=t.text(i);break}case"html":{n+=t.html(i);break}case"link":{n+=t.link(i);break}case"image":{n+=t.image(i);break}case"checkbox":{n+=t.checkbox(i);break}case"strong":{n+=t.strong(i);break}case"em":{n+=t.em(i);break}case"codespan":{n+=t.codespan(i);break}case"br":{n+=t.br(i);break}case"del":{n+=t.del(i);break}case"text":{n+=t.text(i);break}default:{let l='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return n}},Ut=class{options;block;constructor(r){this.options=r||Et}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]);static passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(r){return r}postprocess(r){return r}processAllTokens(r){return r}emStrongMask(r){return r}provideLexer(){return this.block?ct.lex:ct.lexInline}provideParser(){return this.block?ft.parse:ft.parseInline}},qo=class{defaults=Wr();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=ft;Renderer=or;TextRenderer=Kr;Lexer=ct;Tokenizer=ir;Hooks=Ut;constructor(...r){this.use(...r)}walkTokens(r,e){let t=[];for(let n of r)switch(t=t.concat(e.call(this,n)),n.type){case"table":{let s=n;for(let o of s.header)t=t.concat(this.walkTokens(o.tokens,e));for(let o of s.rows)for(let i of o)t=t.concat(this.walkTokens(i.tokens,e));break}case"list":{let s=n;t=t.concat(this.walkTokens(s.items,e));break}default:{let s=n;this.defaults.extensions?.childTokens?.[s.type]?this.defaults.extensions.childTokens[s.type].forEach(o=>{let i=s[o].flat(1/0);t=t.concat(this.walkTokens(i,e))}):s.tokens&&(t=t.concat(this.walkTokens(s.tokens,e)))}}return t}use(...r){let e=this.defaults.extensions||{renderers:{},childTokens:{}};return r.forEach(t=>{let n={...t};if(n.async=this.defaults.async||n.async||!1,t.extensions&&(t.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){let o=e.renderers[s.name];o?e.renderers[s.name]=function(...i){let l=s.renderer.apply(this,i);return l===!1&&(l=o.apply(this,i)),l}:e.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let o=e[s.level];o?o.unshift(s.tokenizer):e[s.level]=[s.tokenizer],s.start&&(s.level==="block"?e.startBlock?e.startBlock.push(s.start):e.startBlock=[s.start]:s.level==="inline"&&(e.startInline?e.startInline.push(s.start):e.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(e.childTokens[s.name]=s.childTokens)}),n.extensions=e),t.renderer){let s=this.defaults.renderer||new or(this.defaults);for(let o in t.renderer){if(!(o in s))throw new Error(`renderer '${o}' does not exist`);if(["options","parser"].includes(o))continue;let i=o,l=t.renderer[i],f=s[i];s[i]=(...c)=>{let a=l.apply(s,c);return a===!1&&(a=f.apply(s,c)),a||""}}n.renderer=s}if(t.tokenizer){let s=this.defaults.tokenizer||new ir(this.defaults);for(let o in t.tokenizer){if(!(o in s))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;let i=o,l=t.tokenizer[i],f=s[i];s[i]=(...c)=>{let a=l.apply(s,c);return a===!1&&(a=f.apply(s,c)),a}}n.tokenizer=s}if(t.hooks){let s=this.defaults.hooks||new Ut;for(let o in t.hooks){if(!(o in s))throw new Error(`hook '${o}' does not exist`);if(["options","block"].includes(o))continue;let i=o,l=t.hooks[i],f=s[i];Ut.passThroughHooks.has(o)?s[i]=c=>{if(this.defaults.async&&Ut.passThroughHooksRespectAsync.has(o))return(async()=>{let h=await l.call(s,c);return f.call(s,h)})();let a=l.call(s,c);return f.call(s,a)}:s[i]=(...c)=>{if(this.defaults.async)return(async()=>{let h=await l.apply(s,c);return h===!1&&(h=await f.apply(s,c)),h})();let a=l.apply(s,c);return a===!1&&(a=f.apply(s,c)),a}}n.hooks=s}if(t.walkTokens){let s=this.defaults.walkTokens,o=t.walkTokens;n.walkTokens=function(i){let l=[];return l.push(o.call(this,i)),s&&(l=l.concat(s.call(this,i))),l}}this.defaults={...this.defaults,...n}}),this}setOptions(r){return this.defaults={...this.defaults,...r},this}lexer(r,e){return ct.lex(r,e??this.defaults)}parser(r,e){return ft.parse(r,e??this.defaults)}parseMarkdown(r){return(e,t)=>{let n={...t},s={...this.defaults,...n},o=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&n.async===!1)return o(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof e>"u"||e===null)return o(new Error("marked(): input parameter is undefined or null"));if(typeof e!="string")return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected"));if(s.hooks&&(s.hooks.options=s,s.hooks.block=r),s.async)return(async()=>{let i=s.hooks?await s.hooks.preprocess(e):e,l=await(s.hooks?await s.hooks.provideLexer():r?ct.lex:ct.lexInline)(i,s),f=s.hooks?await s.hooks.processAllTokens(l):l;s.walkTokens&&await Promise.all(this.walkTokens(f,s.walkTokens));let c=await(s.hooks?await s.hooks.provideParser():r?ft.parse:ft.parseInline)(f,s);return s.hooks?await s.hooks.postprocess(c):c})().catch(o);try{s.hooks&&(e=s.hooks.preprocess(e));let i=(s.hooks?s.hooks.provideLexer():r?ct.lex:ct.lexInline)(e,s);s.hooks&&(i=s.hooks.processAllTokens(i)),s.walkTokens&&this.walkTokens(i,s.walkTokens);let l=(s.hooks?s.hooks.provideParser():r?ft.parse:ft.parseInline)(i,s);return s.hooks&&(l=s.hooks.postprocess(l)),l}catch(i){return o(i)}}}onError(r,e){return t=>{if(t.message+=`
Please report this to https://github.com/markedjs/marked.`,r){let n="<p>An error occurred:</p><pre>"+dt(t.message+"",!0)+"</pre>";return e?Promise.resolve(n):n}if(e)return Promise.reject(t);throw t}}},Tt=new qo;function _e(r,e){return Tt.parse(r,e)}_e.options=_e.setOptions=function(r){return Tt.setOptions(r),_e.defaults=Tt.defaults,ps(_e.defaults),_e};_e.getDefaults=Wr;_e.defaults=Et;_e.use=function(...r){return Tt.use(...r),_e.defaults=Tt.defaults,ps(_e.defaults),_e};_e.walkTokens=function(r,e){return Tt.walkTokens(r,e)};_e.parseInline=Tt.parseInline;_e.Parser=ft;_e.parser=ft.parse;_e.Renderer=or;_e.TextRenderer=Kr;_e.Lexer=ct;_e.lexer=ct.lex;_e.Tokenizer=ir;_e.Hooks=Ut;_e.parse=_e;_e.options;_e.setOptions;_e.use;_e.walkTokens;_e.parseInline;ft.parse;ct.lex;var Er={exports:{}},Bn;function Yo(){return Bn||(Bn=1,(function(r){(function(e){var t=typeof window=="object"&&!!window.document,n=t?window:Object;e(n,t),r.exports&&(r.exports=n.Recorder)})(function(e,t){var n=function(){},s=function(x){return typeof x=="number"},o=function(x){return JSON.stringify(x)},i=function(x){return new De(x)},l=i.LM="2025-01-11 09:28",f="https://github.com/xiangyuecn/Recorder",c="Recorder",a="getUserMedia",h="srcSampleRate",u="sampleRate",g="bitRate",p="catch",m=e[c];if(m&&m.LM==l){m.CLog(m.i18n.$T("K8zP::重复导入{1}",0,c),3);return}i.IsOpen=function(){var x=i.Stream;if(x){var k=O(x),b=k[0];if(b){var E=b.readyState;return E=="live"||E==b.LIVE}}return!1},i.BufferSize=4096,i.Destroy=function(){z(c+" Destroy"),L();for(var x in v)v[x]()};var v={};i.BindDestroy=function(x,k){v[x]=k},i.Support=function(){if(!t)return!1;var x=navigator.mediaDevices||{};return x[a]||(x=navigator,x[a]||(x[a]=x.webkitGetUserMedia||x.mozGetUserMedia||x.msGetUserMedia)),!(!x[a]||(i.Scope=x,!i.GetContext()))},i.GetContext=function(x){if(!t)return null;var k=window.AudioContext;if(k||(k=window.webkitAudioContext),!k)return null;var b=i.Ctx,E=0;return b||(b=i.Ctx=new k,E=1,i.NewCtxs=i.NewCtxs||[],i.BindDestroy("Ctx",function(){var N=i.Ctx;N&&N.close&&(_(N),i.Ctx=0);var $=i.NewCtxs;i.NewCtxs=[];for(var P=0;P<$.length;P++)_($[P])})),x&&b.close&&(E||(b._useC||_(b),b=new k),b._useC=1,i.NewCtxs.push(b)),b},i.CloseNewCtx=function(x){if(x&&x.close){_(x);for(var k=i.NewCtxs||[],b=k.length,E=0;E<k.length;E++)if(k[E]==x){k.splice(E,1);break}z(j("mSxV::剩{1}个GetContext未close",0,b+"-1="+k.length),k.length?3:0)}};var _=function(x){if(x&&x.close&&!x._isC&&(x._isC=1,x.state!="closed"))try{x.close()}catch(k){z("ctx close err",1,k)}},d=i.ResumeCtx=function(x,k,b,E){var N=0,$=0,P=0,Z=0,U="EventListener",F="ResumeCtx ",oe=function(ee,G){$&&ge(),N||(N=1,ee&&E(ee,Z),G&&b(Z)),G&&(!x._LsSC&&x["add"+U]&&x["add"+U]("statechange",K),x._LsSC=1,P=1)},ge=function(ee){if(!(ee&&$)){$=ee?1:0;for(var G=["focus","mousedown","mouseup","touchstart","touchend"],pe=0;pe<G.length;pe++)window[(ee?"add":"remove")+U](G[pe],K,!0)}},K=function(){var ee=x.state,G=y(ee);if(!N&&!k(G?++Z:Z))return oe();G?(P&&z(F+"sc "+ee,3),ge(1),x.resume().then(function(){P&&z(F+"sc "+x.state),oe(0,1)})[p](function(pe){z(F+"error",1,pe),y(x.state)||oe(pe.message||"error")})):ee=="closed"?(P&&!x._isC&&z(F+"sc "+ee,1),oe("ctx closed")):oe(0,1)};K()},y=i.CtxSpEnd=function(x){return x=="suspended"||x=="interrupted"},A=function(x){var k=x.state,b="ctx.state="+k;return y(k)&&(b+=j("nMIy::（注意：ctx不是running状态，rec.open和start至少要有一个在用户操作(触摸、点击等)时进行调用，否则将在rec.start时尝试进行ctx.resume，可能会产生兼容性问题(仅iOS)，请参阅文档中runningContext配置）")),b},C="ConnectEnableWebM";i[C]=!0;var w="ConnectEnableWorklet";i[w]=!1;var R=function(x){var k=x.BufferSize||i.BufferSize,b=x.Stream,E=b._c,N=E[u],$={},P=O(b),Z=P[0],U=null,F="";if(Z&&Z.getSettings){U=Z.getSettings();var oe=U[u];oe&&oe!=N&&(F=j("eS8i::Stream的采样率{1}不等于{2}，将进行采样率转换（注意：音质不会变好甚至可能变差），主要在移动端未禁用回声消除时会产生此现象，浏览器有回声消除时可能只会返回16k采样率的音频数据，",0,oe,N))}b._ts=U,z(F+"Stream TrackSet: "+o(U),F?3:0);var ge=function(ie){var ue=b._m=E.createMediaStreamSource(b),de=E.destination,Ee="createMediaStreamDestination";E[Ee]&&(de=b._d=E[Ee]()),ue.connect(ie),ie.connect(de)},K,ee,G,pe="",ye=b._call,J=function(ie,ue){for(var de in ye){if(ue!=N){$.index=0,$=i.SampleData([ie],ue,N,$,{_sum:1});var Ee=$.data,xe=$._sum}else{$={};for(var me=ie.length,Ee=new Int16Array(me),xe=0,Re=0;Re<me;Re++){var ve=Math.max(-1,Math.min(1,ie[Re]));ve=ve<0?ve*32768:ve*32767,Ee[Re]=ve,xe+=Math.abs(ve)}}for(var Se in ye)ye[Se](Ee,xe);return}},W="ScriptProcessor",ne="audioWorklet",se=c+" "+ne,ke="RecProc",ae="MediaRecorder",Oe=ae+".WebM.PCM",V=E.createScriptProcessor||E.createJavaScriptNode,te=j("ZGlf::。由于{1}内部1秒375次回调，在移动端可能会有性能问题导致回调丢失录音变短，PC端无影响，暂不建议开启{1}。",0,ne),B=function(){ee=b.isWorklet=!1,I(b),z(j("7TU0::Connect采用老的{1}，",0,W)+le.get(i[w]?j("JwCL::但已设置{1}尝试启用{2}",2):j("VGjB::可设置{1}尝试启用{2}",2),[c+"."+w+"=true",ne])+pe+te,3);var ie=b._p=V.call(E,k,1,1);ge(ie),ie.onaudioprocess=function(ue){var de=ue.inputBuffer.getChannelData(0);J(de,N)}},Te=function(){K=b.isWebM=!1,D(b),ee=b.isWorklet=!V||i[w];var ie=window.AudioWorkletNode;if(!(ee&&E[ne]&&ie)){B();return}var ue=function(){var Re=function(Se){return Se.toString().replace(/^function|DEL_/g,"").replace(/\$RA/g,se)},ve="class "+ke+" extends AudioWorkletProcessor{";return ve+="constructor "+Re(function(Se){DEL_super(Se);var je=this,re=Se.processorOptions.bufferSize;je.bufferSize=re,je.buffer=new Float32Array(re*2),je.pos=0,je.port.onmessage=function(Pe){Pe.data.kill&&(je.kill=!0,$C.log("$RA kill call"))},$C.log("$RA .ctor call",Se)}),ve+="process "+Re(function(Se,je,re){var Pe=this,bt=Pe.bufferSize,lt=Pe.buffer,nt=Pe.pos;if(Se=(Se[0]||[])[0]||[],Se.length){lt.set(Se,nt),nt+=Se.length;var ht=~~(nt/bt)*bt;if(ht){this.port.postMessage({val:lt.slice(0,ht)});var xt=lt.subarray(ht,nt);lt=new Float32Array(bt*2),lt.set(xt),nt=xt.length,Pe.buffer=lt}Pe.pos=nt}return!Pe.kill}),ve+='}try{registerProcessor("'+ke+'", '+ke+')}catch(e){$C.error("'+se+' Reg Error",e)}',ve=ve.replace(/\$C\./g,"console."),"data:text/javascript;base64,"+btoa(unescape(encodeURIComponent(ve)))},de=function(){return ee&&b._na},Ee=b._na=function(){G!==""&&(clearTimeout(G),G=setTimeout(function(){G=0,de()&&(z(j("MxX1::{1}未返回任何音频，恢复使用{2}",0,ne,W),3),V&&B())},500))},xe=function(){if(de()){var Re=b._n=new ie(E,ke,{processorOptions:{bufferSize:k}});ge(Re),Re.port.onmessage=function(ve){G&&(clearTimeout(G),G=""),de()?J(ve.data.val,N):ee||z(j("XUap::{1}多余回调",0,ne),3)},z(j("yOta::Connect采用{1}，设置{2}可恢复老式{3}",0,ne,c+"."+w+"=false",W)+pe+te,3)}},me=function(){if(de()){if(E[ke]){xe();return}var Re=ue();E[ne].addModule(Re).then(function(ve){de()&&(E[ke]=1,xe(),G&&Ee())})[p](function(ve){z(ne+".addModule Error",1,ve),de()&&B()})}};d(E,function(){return de()},me,me)},ce=function(){var ie=window[ae],ue="ondataavailable",de="audio/webm; codecs=pcm";K=b.isWebM=i[C];var Ee=ie&&ue in ie.prototype&&ie.isTypeSupported(de);if(pe=Ee?"":j("VwPd::（此浏览器不支持{1}）",0,Oe),!K||!Ee){Te();return}var xe=function(){return K&&b._ra};b._ra=function(){G!==""&&(clearTimeout(G),G=setTimeout(function(){xe()&&(z(j("vHnb::{1}未返回任何音频，降级使用{2}",0,ae,ne),3),Te())},500))};var me=Object.assign({mimeType:de},i.ConnectWebMOptions),Re=b._r=new ie(b,me),ve=b._rd={};Re[ue]=function(Se){var je=new FileReader;je.onloadend=function(){if(xe()){var re=Ie(new Uint8Array(je.result),ve);if(!re)return;if(re==-1){Te();return}G&&(clearTimeout(G),G=""),J(re,ve.webmSR)}else K||z(j("O9P7::{1}多余回调",0,ae),3)},je.readAsArrayBuffer(Se.data)};try{Re.start(~~(k/48)),z(j("LMEm::Connect采用{1}，设置{2}可恢复使用{3}或老式{4}",0,Oe,c+"."+C+"=false",ne,W))}catch(Se){z("mr start err",1,Se),Te()}};ce()},S=function(x){x._na&&x._na(),x._ra&&x._ra()},I=function(x){x._na=null,x._n&&(x._n.port.postMessage({kill:!0}),x._n.disconnect(),x._n=null)},D=function(x){if(x._ra=null,x._r){try{x._r.stop()}catch(k){z("mr stop err",1,k)}x._r=null}},L=function(x){x=x||i;var k=x==i,b=x.Stream;b&&(b._m&&(b._m.disconnect(),b._m=null),!b._RC&&b._c&&i.CloseNewCtx(b._c),b._RC=null,b._c=null,b._d&&(H(b._d.stream),b._d=null),b._p&&(b._p.disconnect(),b._p.onaudioprocess=b._p=null),I(b),D(b),k&&H(b)),x.Stream=0},H=i.StopS_=function(x){for(var k=O(x),b=0;b<k.length;b++){var E=k[b];E.stop&&E.stop()}x.stop&&x.stop()},O=function(x){var k=0,b=0,E=[];x.getAudioTracks&&(k=x.getAudioTracks(),b=x.getVideoTracks()),k||(k=x.audioTracks,b=x.videoTracks);for(var N=0,$=k?k.length:0;N<$;N++)E.push(k[N]);for(var N=0,$=b?b.length:0;N<$;N++)E.push(b[N]);return E};i.SampleData=function(x,k,b,E,N){var $="SampleData";E||(E={});var P=E.index||0,Z=E.offset||0,U=E.raisePrev||0,F=E.filter;if(F&&F.fn&&(F.sr&&F.sr!=k||F.srn&&F.srn!=b)&&(F=null,z(j("d48C::{1}的filter采样率变了，重设滤波",0,$),3)),!F)if(b<=k){var oe=b>k*3/4?0:b/2*3/4;F={fn:oe?i.IIRFilter(!0,k,oe):0}}else{var oe=k>b*3/4?0:k/2*3/4;F={fn:oe?i.IIRFilter(!0,b,oe):0}}F.sr=k,F.srn=b;var ge=F.fn,K=E.frameNext||[];N||(N={});var ee=N.frameSize||1;N.frameType&&(ee=N.frameType=="mp3"?1152:1);var G=N._sum,pe=0,ye=x.length;P>ye+1&&z(j("tlbC::{1}似乎传入了未重置chunk {2}",0,$,P+">"+ye),3);for(var J=0,W=P;W<ye;W++)J+=x[W].length;var ne=k/b;if(ne>1)J=Math.max(0,J-Math.floor(Z)),J=Math.floor(J/ne);else if(ne<1){var se=1/ne;J=Math.floor(J*se)}J+=K.length;for(var ke=new Int16Array(J),ae=0,W=0;W<K.length;W++)ke[ae]=K[W],ae++;for(;P<ye;P++){var Oe=x[P],V=Oe instanceof Float32Array,W=Z,te=Oe.length,B=ge&&ge.Embed,Te=0,ce=0,ie=0,ue=0;if(ne<1){for(var de=ae+W,Ee=U,xe=0;xe<te;xe++){var me=Oe[xe];V&&(me=Math.max(-1,Math.min(1,me)),me=me<0?me*32768:me*32767);var Re=Math.floor(de);de+=se;for(var ve=Math.floor(de),Se=(me-Ee)/(ve-Re),je=1;Re<ve;Re++,je++){var re=Math.floor(Ee+je*Se);B?(ie=re,ue=B.b0*ie+B.b1*B.x1+B.b0*B.x2-B.a1*B.y1-B.a2*B.y2,B.x2=B.x1,B.x1=ie,B.y2=B.y1,B.y1=ue,re=ue):re=ge?ge(re):re,re>32767?re=32767:re<-32768&&(re=-32768),G&&(pe+=Math.abs(re)),ke[Re]=re,ae++}Ee=U=me,W+=se}Z=W%1;continue}for(var xe=0,Pe=0;xe<te;xe++,Pe++){if(Pe<te){var me=Oe[Pe];V&&(me=Math.max(-1,Math.min(1,me)),me=me<0?me*32768:me*32767),B?(ie=me,ue=B.b0*ie+B.b1*B.x1+B.b0*B.x2-B.a1*B.y1-B.a2*B.y2,B.x2=B.x1,B.x1=ie,B.y2=B.y1,B.y1=ue):ue=ge?ge(me):me}if(Te=ce,ce=ue,Pe==0){xe--;continue}var bt=Math.floor(W);if(xe==bt){var lt=Math.ceil(W),nt=W-bt,ht=Te,xt=lt<te?ce:ht,yt=ht+(xt-ht)*nt;yt>32767?yt=32767:yt<-32768&&(yt=-32768),G&&(pe+=Math.abs(yt)),ke[ae]=yt,ae++,W+=ne}}Z=Math.max(0,W-te)}ne<1&&ae+1==J&&(J--,ke=new Int16Array(ke.buffer.slice(0,J*2))),ae-1!=J&&ae!=J&&z($+" idx:"+ae+" != size:"+J,3),K=null;var rt=J%ee;if(rt>0){var wt=(J-rt)*2;K=new Int16Array(ke.buffer.slice(wt)),ke=new Int16Array(ke.buffer.slice(0,wt))}var Ct={index:P,offset:Z,raisePrev:U,filter:F,frameNext:K,sampleRate:b,data:ke};return G&&(Ct._sum=pe),Ct},i.IIRFilter=function(x,k,b){var E=2*Math.PI*b/k,N=Math.sin(E),$=Math.cos(E),P=N/2,Z=1+P,U=-2*$/Z,F=(1-P)/Z;if(x)var oe=(1-$)/2/Z,ge=(1-$)/Z;else var oe=(1+$)/2/Z,ge=-(1+$)/Z;var K=0,ee=0,G=0,pe=0,ye=0,J=function(W){return G=oe*W+ge*K+oe*ee-U*pe-F*ye,ee=K,K=W,ye=pe,pe=G,G};return J.Embed={x1:0,x2:0,y1:0,y2:0,b0:oe,b1:ge,a1:U,a2:F},J},i.PowerLevel=function(x,k){var b=x/k||0,E;return b<1251?E=Math.round(b/1250*10):E=Math.round(Math.min(100,Math.max(0,(1+Math.log(b/1e4)/Math.log(10))*100))),E},i.PowerDBFS=function(x){var k=Math.max(.1,x||0),b=32767;return k=Math.min(k,b),k=20*Math.log(k/b)/Math.log(10),Math.max(-100,Math.round(k))},i.CLog=function(x,k){if(typeof console=="object"){var b=new Date,E=("0"+b.getMinutes()).substr(-2)+":"+("0"+b.getSeconds()).substr(-2)+"."+("00"+b.getMilliseconds()).substr(-3),N=this&&this.envIn&&this.envCheck&&this.id,$=["["+E+" "+c+(N?":"+N:"")+"]"+x],P=arguments,Z=i.CLog,U=2,F=Z.log||console.log;for(s(k)?F=k==1?Z.error||console.error:k==3?Z.warn||console.warn:F:U=1;U<P.length;U++)$.push(P[U]);Y?F&&F("[IsLoser]"+$[0],$.length>1?$:""):F.apply(console,$)}};var z=function(){i.CLog.apply(this,arguments)},Y=!0;try{Y=!console.log.apply}catch{}var Ae=0;function De(x){var k=this;k.id=++Ae,be();var b={type:"mp3",onProcess:n};for(var E in x)b[E]=x[E];k.set=b;var N=b[g],$=b[u];(N&&!s(N)||$&&!s($))&&k.CLog(j.G("IllegalArgs-1",[j("VtS4::{1}和{2}必须是数值",0,u,g)]),1,x),b[g]=+N||16,b[u]=+$||16e3,k.state=0,k._S=9,k.Sync={O:9,C:9}}i.Sync={O:9,C:9},i.prototype=De.prototype={CLog:z,_streamStore:function(){return this.set.sourceStream?this:i},_streamGet:function(){return this._streamStore().Stream},_streamCtx:function(){var x=this._streamGet();return x&&x._c},open:function(x,k){var b=this,E=b.set,N=b._streamStore(),$=0;x=x||n;var P=function(V,te){te=!!te,b.CLog(j("5tWi::录音open失败：")+V+",isUserNotAllow:"+te,1),$&&i.CloseNewCtx($),k&&k(V,te)};b._streamTag=a;var Z=function(){b.CLog("open ok, id:"+b.id+" stream:"+b._streamTag),x(),b._SO=0},U=N.Sync,F=++U.O,oe=U.C;b._O=b._O_=F,b._SO=b._S;var ge=function(){if(oe!=U.C||!b._O){var V=j("dFm8::open被取消");return F==U.O?b.close():V=j("VtJO::open被中断"),P(V),!0}};if(!t){P(j.G("NonBrowser-1",["open"])+j("EMJq::，可尝试使用RecordApp解决方案")+"("+f+"/tree/master/app-support-sample)");return}var K=b.envCheck({envName:"H5",canProcess:!0});if(K){P(j("A5bm::不能录音：")+K);return}var ee,G=function(){ee=E.runningContext,ee||(ee=$=i.GetContext(!0))};if(E.sourceStream){if(b._streamTag="set.sourceStream",!i.GetContext()){P(j("1iU7::不支持此浏览器从流中获取录音"));return}G(),L(N);var pe=b.Stream=E.sourceStream;pe._c=ee,pe._RC=E.runningContext,pe._call={};try{R(N)}catch(V){L(N),P(j("BTW2::从流中打开录音失败：")+V.message);return}Z();return}var ye=function(V,te){try{window.top.a}catch{P(j("Nclz::无权录音(跨域，请尝试给iframe添加麦克风访问策略，如{1})",0,'allow="camera;microphone"'));return}J(1,V)&&(/Found/i.test(V)?P(te+j("jBa9::，无可用麦克风")):P(te))},J=function(V,te){if(/Permission|Allow/i.test(te))V&&P(j("gyO5::用户拒绝了录音权限"),!0);else if(window.isSecureContext===!1)V&&P(j("oWNo::浏览器禁止不安全页面录音，可开启https解决"));else return 1};if(i.IsOpen()){Z();return}if(!i.Support()){ye("",j("COxc::此浏览器不支持录音"));return}G();var W=function(V){setTimeout(function(){V._call={};var te=i.Stream;te&&(L(),V._call=te._call),i.Stream=V,V._c=ee,V._RC=E.runningContext,!ge()&&(i.IsOpen()?(te&&b.CLog(j("upb8::发现同时多次调用open"),1),R(N),Z()):P(j("Q1GA::录音功能无效：无音频流")))},100)},ne=function(V){var te=V.name||V.message||V.code+":"+V,B="";se==1&&J(0,te)&&(B=j("KxE2::，将尝试禁用回声消除后重试"));var Te=j("xEQR::请求录音权限错误"),ce=j("bDOG::无法录音：");b.CLog(Te+B+"|"+V,B||ae?3:1,V),B?(ke=te,ae=V,Oe(1)):ae?(b.CLog(Te+"|"+ae,1,ae),ye(ke,ce+ae)):ye(te,ce+V)},se=0,ke,ae,Oe=function(V){se++;var te="audioTrackSet",B="autoGainControl",Te="echoCancellation",ce="noiseSuppression",ie=te+":{"+Te+","+ce+","+B+"}",ue=JSON.parse(o(E[te]||!0));b.CLog("open... "+se+" "+te+":"+o(ue)),V&&(typeof ue!="object"&&(ue={}),ue[B]=!1,ue[Te]=!1,ue[ce]=!1),ue[u]&&b.CLog(j("IjL3::注意：已配置{1}参数，可能会出现浏览器不能正确选用麦克风、移动端无法启用回声消除等现象",0,te+"."+u),3);var de={audio:ue,video:E.videoTrackSet||!1};try{var Ee=i.Scope[a](de,W,ne)}catch(xe){b.CLog(a,3,xe),de={audio:!0,video:!1},Ee=i.Scope[a](de,W,ne)}b.CLog(a+"("+o(de)+") "+A(ee)+j("RiWe::，未配置 {1} 时浏览器可能会自动启用回声消除，移动端未禁用回声消除时可能会降低系统播放音量（关闭录音后可恢复）和仅提供16k采样率的音频流（不需要回声消除时可明确配置成禁用来获得48k高音质的流），请参阅文档中{2}配置",0,ie,te)+"("+f+") LM:"+l+" UA:"+navigator.userAgent),Ee&&Ee.then&&Ee.then(W)[p](ne)};Oe()},close:function(x){x=x||n;var k=this,b=k._streamStore();k._stop();var E=" stream:"+k._streamTag,N=b.Sync;if(k._O=0,k._O_!=N.O){k.CLog(j("hWVz::close被忽略（因为同时open了多个rec，只有最后一个会真正close）")+E,3),x();return}N.C++,L(b),k.CLog("close,"+E),x()},mock:function(x,k){var b=this;return b._stop(),b.isMock=1,b.mockEnvInfo=null,b.buffers=[x],b.recSize=x.length,b._setSrcSR(k),b._streamTag="mock",b},_setSrcSR:function(x){var k=this,b=k.set,E=b[u];E>x?b[u]=x:E=0,k[h]=x,k.CLog(h+": "+x+" set."+u+": "+b[u]+(E?" "+j("UHvm::忽略")+": "+E:""),E?3:0)},envCheck:function(x){var k,b=this,E=b.set,N="CPU_BE";if(!k&&!i[N]&&typeof Int8Array=="function"&&!new Int8Array(new Int32Array([1]).buffer)[0]&&(be(N),k=j("Essp::不支持{1}架构",0,N)),!k){var $=E.type,P=b[$+"_envCheck"];E.takeoffEncodeChunk&&(P?x.canProcess||(k=j("7uMV::{1}环境不支持实时处理",0,x.envName)):k=j("2XBl::{1}类型不支持设置takeoffEncodeChunk",0,$)+(b[$]?"":j("LG7e::(未加载编码器)"))),!k&&P&&(k=b[$+"_envCheck"](x,E))}return k||""},envStart:function(x,k){var b=this,E=b.set;if(b.isMock=x?1:0,b.mockEnvInfo=x,b.buffers=[],b.recSize=0,x&&(b._streamTag="env$"+x.envName),b.state=1,b.envInLast=0,b.envInFirst=0,b.envInFix=0,b.envInFixTs=[],b._setSrcSR(k),b.engineCtx=0,b[E.type+"_start"]){var N=b.engineCtx=b[E.type+"_start"](E);N&&(N.pcmDatas=[],N.pcmSize=0)}},envResume:function(){this.envInFixTs=[]},envIn:function(x,k){var b=this,E=b.set,N=b.engineCtx;if(b.state!=1){b.state||b.CLog("envIn at state=0",3);return}var $=b[h],P=x.length,Z=i.PowerLevel(k,P),U=b.buffers,F=U.length;U.push(x);var oe=U,ge=F,K=Date.now(),ee=Math.round(P/$*1e3);b.envInLast=K,b.buffers.length==1&&(b.envInFirst=K-ee);var G=b.envInFixTs;G.splice(0,0,{t:K,d:ee});for(var pe=K,ye=0,J=0;J<G.length;J++){var W=G[J];if(K-W.t>3e3){G.length=J;break}pe=W.t,ye+=W.d}var ne=G[1],se=K-pe,ke=se-ye;if(ke>se/3&&(ne&&se>1e3||G.length>=6)){var ae=K-ne.t-ee;if(ae>ee/5){var Oe=!E.disableEnvInFix;if(b.CLog("["+K+"]"+le.get(j(Oe?"4Kfd::补偿{1}ms":"bM5i::未补偿{1}ms",1),[ae]),3),b.envInFix+=ae,Oe){var V=new Int16Array(ae*$/1e3);P+=V.length,U.push(V)}}}var te=b.recSize,B=P,Te=te+B;if(b.recSize=Te,N){var ce=i.SampleData(U,$,E[u],N.chunkInfo);N.chunkInfo=ce,te=N.pcmSize,B=ce.data.length,Te=te+B,N.pcmSize=Te,U=N.pcmDatas,F=U.length,U.push(ce.data),$=ce[u]}var ie=Math.round(Te/$*1e3),ue=U.length,de=oe.length,Ee=function(){for(var Se=xe?0:-B,je=U[0]==null,re=F;re<ue;re++){var Pe=U[re];Pe==null?je=1:(Se+=Pe.length,N&&Pe.length&&b[E.type+"_encode"](N,Pe))}if(je&&N){var re=ge;for(oe[0]&&(re=0);re<de;re++)oe[re]=null}je&&(Se=xe?B:0,U[0]=null),N?N.pcmSize+=Se:b.recSize+=Se},xe=0,me="rec.set.onProcess";try{xe=E.onProcess(U,Z,ie,$,F,Ee),xe=xe===!0}catch(Se){console.error(me+j("gFUF::回调出错是不允许的，需保证不会抛异常"),Se)}var Re=Date.now()-K;if(Re>10&&b.envInFirst-K>1e3&&b.CLog(me+j("2ghS::低性能，耗时{1}ms",0,Re),3),xe){for(var ve=0,J=F;J<ue;J++)U[J]==null?ve=1:U[J]=new Int16Array(0);ve?b.CLog(j("ufqH::未进入异步前不能清除buffers"),3):N?N.pcmSize-=B:b.recSize-=B}else Ee()},start:function(){var x=this,k=1;if(x.set.sourceStream?x.Stream||(k=0):i.IsOpen()||(k=0),!k){x.CLog(j("6WmN::start失败：未open"),1);return}var b=x._streamCtx();if(x.CLog(j("kLDN::start 开始录音，")+A(b)+" stream:"+x._streamTag),x._stop(),x.envStart(null,b[u]),x.state=3,x._SO&&x._SO+1!=x._S){x.CLog(j("Bp2y::start被中断"),3);return}x._SO=0;var E=function(){x.state==3&&(x.state=1,x.resume())},N="AudioContext resume: ",$=x._streamGet();$._call[x.id]=function(){x.CLog(N+b.state+"|stream ok"),E()},d(b,function(P){return P&&x.CLog(N+"wait..."),x.state==3},function(P){P&&x.CLog(N+b.state),E()},function(P){x.CLog(N+b.state+j("upkE::，可能无法录音：")+P,1),E()})},pause:function(){var x=this,k=x._streamGet();x.state&&(x.state=2,x.CLog("pause"),k&&delete k._call[x.id])},resume:function(){var x=this,k=x._streamGet(),b="resume",E=b+"(wait ctx)";if(x.state==3)x.CLog(E);else if(x.state){x.state=1,x.CLog(b),x.envResume(),k&&(k._call[x.id]=function($,P){x.state==1&&x.envIn($,P)},S(k));var N=x._streamCtx();N&&d(N,function($){return $&&x.CLog(E+"..."),x.state==1},function($){$&&x.CLog(E+N.state),S(k)},function($){x.CLog(E+N.state+"[err]"+$,1)})}},_stop:function(x){var k=this,b=k.set;k.isMock||k._S++,k.state&&(k.pause(),k.state=0),!x&&k[b.type+"_stop"]&&(k[b.type+"_stop"](k.engineCtx),k.engineCtx=0)},stop:function(x,k,b){var E=this,N=E.set,$,P=E.envInLast-E.envInFirst,Z=P&&E.buffers.length;E.CLog(j("Xq4s::stop 和start时差:")+(P?P+"ms "+j("3CQP::补偿:")+E.envInFix+"ms envIn:"+Z+" fps:"+(Z/P*1e3).toFixed(1):"-")+" stream:"+E._streamTag+" ("+f+") LM:"+l);var U=function(){E._stop(),b&&E.close()},F=function(W){E.CLog(j("u8JG::结束录音失败：")+W,1),k&&k(W),U()},oe=function(W,ne,se){var ke="blob",ae="arraybuffer",Oe="dataType",V="DefaultDataType",te=E[Oe]||i[V]||ke,B=Oe+"="+te,Te=W instanceof ArrayBuffer,ce=0,ie=Te?W.byteLength:W.size;if(te==ae?Te||(ce=1):te==ke?typeof Blob!="function"?ce=j.G("NonBrowser-1",[B])+j("1skY::，请设置{1}",0,c+"."+V+'="'+ae+'"'):(Te&&(W=new Blob([W],{type:ne})),W instanceof Blob||(ce=1),ne=W.type||ne):ce=j.G("NotSupport-1",[B]),E.CLog(j("Wv7l::结束录音 编码花{1}ms 音频时长{2}ms 文件大小{3}b",0,Date.now()-$,se,ie)+" "+B+","+ne),ce){F(ce!=1?ce:j("Vkbd::{1}编码器返回的不是{2}",0,N.type,te)+", "+B);return}if(N.takeoffEncodeChunk)E.CLog(j("QWnr::启用takeoffEncodeChunk后stop返回的blob长度为0不提供音频数据"),3);else if(ie<Math.max(50,se/5)){F(j("Sz2H::生成的{1}无效",0,N.type));return}x&&x(W,se,ne),U()};if(!E.isMock){var ge=E.state==3;if(!E.state||ge){F(j("wf9t::未开始录音")+(ge?j("Dl2c::，开始录音前无用户交互导致AudioContext未运行"):""));return}}E._stop(!0);var K=E.recSize;if(!K){F(j("Ltz3::未采集到录音"));return}if(!E[N.type]){F(j("xGuI::未加载{1}编码器，请尝试到{2}的src/engine内找到{1}的编码器并加载",0,N.type,c));return}if(E.isMock){var ee=E.envCheck(E.mockEnvInfo||{envName:"mock",canProcess:!1});if(ee){F(j("AxOH::录音错误：")+ee);return}}var G=E.engineCtx;if(E[N.type+"_complete"]&&G){var J=Math.round(G.pcmSize/N[u]*1e3);$=Date.now(),E[N.type+"_complete"](G,function(ne,se){oe(ne,se,J)},F);return}if($=Date.now(),!E.buffers[0]){F(j("xkKd::音频buffers被释放"));return}var pe=i.SampleData(E.buffers,E[h],N[u]);N[u]=pe[u];var ye=pe.data,J=Math.round(ye.length/N[u]*1e3);E.CLog(j("CxeT::采样:{1} 花:{2}ms",0,K+"->"+ye.length,Date.now()-$)),setTimeout(function(){$=Date.now(),E[N.type](ye,function(W,ne){oe(W,ne,J)},function(W){F(W)})})}};var Ie=function(x,k){k.pos||(k.pos=[0],k.tracks={},k.bytes=[]);var b=k.tracks,E=[k.pos[0]],N=function(){k.pos[0]=E[0]},$=k.bytes.length,P=new Uint8Array($+x.length);if(P.set(k.bytes),P.set(x,$),k.bytes=P,!k._ht){if(Q(P,E),Ce(P,E),!he(Q(P,E),[24,83,128,103]))return;for(Q(P,E);E[0]<P.length;){var Z=Q(P,E),U=Ce(P,E),F=[0],oe=0;if(!U)return;if(he(Z,[22,84,174,107])){for(;F[0]<U.length;){var ge=Q(U,F),K=Ce(U,F),ee=[0],G={channels:0,sampleRate:0};if(he(ge,[174]))for(;ee[0]<K.length;){var pe=Q(K,ee),ye=Ce(K,ee),J=[0];if(he(pe,[215])){var W=ze(ye);G.number=W,b[W]=G}else if(he(pe,[131])){var W=ze(ye);W==1?G.type="video":W==2?(G.type="audio",oe||(k.track0=G),G.idx=oe++):G.type="Type-"+W}else if(he(pe,[134])){for(var ne="",se=0;se<ye.length;se++)ne+=String.fromCharCode(ye[se]);G.codec=ne}else if(he(pe,[225]))for(;J[0]<ye.length;){var ke=Q(ye,J),ae=Ce(ye,J);if(he(ke,[181])){var W=0,Oe=new Uint8Array(ae.reverse()).buffer;ae.length==4?W=new Float32Array(Oe)[0]:ae.length==8?W=new Float64Array(Oe)[0]:z("WebM Track !Float",1,ae),G[u]=Math.round(W)}else he(ke,[98,100])?G.bitDepth=ze(ae):he(ke,[159])&&(G.channels=ze(ae))}}}k._ht=1,z("WebM Tracks",b),N();break}}}var V=k.track0;if(V){var te=V[u];if(k.webmSR=te,V.bitDepth==16&&/FLOAT/i.test(V.codec)&&(V.bitDepth=32,z("WebM 16->32 bit",3)),te<8e3||V.bitDepth!=32||V.channels<1||!/(\b|_)PCM\b/i.test(V.codec))return k.bytes=[],k.bad||z("WebM Track Unexpected",3,k),k.bad=1,-1;for(var B=[],Te=0;E[0]<P.length;){var ge=Q(P,E),K=Ce(P,E);if(!K)break;if(he(ge,[163])){var ce=K[0]&15,G=b[ce];if(G){if(G.idx===0){for(var ie=new Uint8Array(K.length-4),se=4;se<K.length;se++)ie[se-4]=K[se];B.push(ie),Te+=ie.length}}else return z("WebM !Track"+ce,1,b),-1}N()}if(Te){var ue=new Uint8Array(P.length-k.pos[0]);ue.set(P.subarray(k.pos[0])),k.bytes=ue,k.pos[0]=0;for(var ie=new Uint8Array(Te),se=0,de=0;se<B.length;se++)ie.set(B[se],de),de+=B[se].length;var Oe=new Float32Array(ie.buffer);if(V.channels>1){for(var Ee=[],se=0;se<Oe.length;)Ee.push(Oe[se]),se+=V.channels;Oe=new Float32Array(Ee)}return Oe}}},he=function(x,k){if(!x||x.length!=k.length)return!1;if(x.length==1)return x[0]==k[0];for(var b=0;b<x.length;b++)if(x[b]!=k[b])return!1;return!0},ze=function(x){for(var k="",b=0;b<x.length;b++){var E=x[b];k+=(E<16?"0":"")+E.toString(16)}return parseInt(k,16)||0},Q=function(x,k,b){var E=k[0];if(!(E>=x.length)){var N=x[E],$=("0000000"+N.toString(2)).substr(-8),P=/^(0*1)(\d*)$/.exec($);if(P){var Z=P[1].length,U=[];if(!(E+Z>x.length)){for(var F=0;F<Z;F++)U[F]=x[E],E++;return b&&(U[0]=parseInt(P[2]||"0",2)),k[0]=E,U}}}},Ce=function(x,k){var b=Q(x,k,1);if(b){var E=ze(b),N=k[0],$=[];if(E<2147483647){if(N+E>x.length)return;for(var P=0;P<E;P++)$[P]=x[N],N++}return k[0]=N,$}},le=i.i18n={lang:"zh-CN",alias:{"zh-CN":"zh","en-US":"en"},locales:{},data:{},put:function(x,k){var b=c+".i18n.put: ",E=x.overwrite;E=E==null||E;var N=x.lang;if(N=le.alias[N]||N,!N)throw new Error(b+"set.lang?");var $=le.locales[N];$||($={},le.locales[N]=$);for(var P=/^([\w\-]+):/,Z,U=0;U<k.length;U++){var oe=k[U];if(Z=P.exec(oe),!Z){z(b+"'key:'? "+oe,3,x);continue}var F=Z[1],oe=oe.substr(F.length+1);!E&&$[F]||($[F]=oe)}},get:function(){return le.v_G.apply(null,arguments)},v_G:function(x,k,b){k=k||[],b=b||le.lang,b=le.alias[b]||b;var E=le.locales[b],N=E&&E[x]||"";return!N&&b!="zh"?b=="en"?le.v_G(x,k,"zh"):le.v_G(x,k,"en"):(le.lastLang=b,N=="=Empty"?"":N.replace(/\{(\d+)(\!?)\}/g,function($,P,Z){return P=+P||0,$=k[P-1],(P<1||P>k.length)&&($="{?}",z("i18n["+x+"] no {"+P+"}: "+N,3)),Z?"":$}))},$T:function(){return le.v_T.apply(null,arguments)},v_T:function(){for(var x=arguments,k="",b=[],E=0,N=c+".i18n.$T:",$=/^([\w\-]*):/,P,Z=0;Z<x.length;Z++){var U=x[Z];if(Z==0){if(P=$.exec(U),k=P&&P[1],!k)throw new Error(N+"0 'key:'?");U=U.substr(k.length+1)}if(E===-1)b.push(U);else{if(E)throw new Error(N+" bad args");if(U===0)E=-1;else if(s(U)){if(U<1)throw new Error(N+" bad args");E=U}else{var F=Z==1?"en":Z?"":"zh";if(P=$.exec(U),P&&(F=P[1]||F,U=U.substr(P[1].length+1)),!P||!F)throw new Error(N+Z+" 'lang:'?");le.put({lang:F,overwrite:!1},[k+":"+U])}}}return k?E>0?k:le.v_G(k,b):""}},j=le.$T;j.G=le.get,j("NonBrowser-1::非浏览器环境，不支持{1}",1),j("IllegalArgs-1::参数错误：{1}",1),j("NeedImport-2::调用{1}需要先导入{2}",2),j("NotSupport-1::不支持：{1}",1),i.TrafficImgUrl="//ia.51.la/go1?id=20469973&pvFlag=1";var be=i.Traffic=function(x){if(t){x=x?"/"+c+"/Report/"+x:"";var k=i.TrafficImgUrl;if(k){var b=i.Traffic,E=/^(https?:..[^\/#]*\/?)[^#]*/i.exec(location.href)||[],N=E[1]||"http://file/",$=(E[0]||N)+x;if(k.indexOf("//")==0&&(/^https:/i.test($)?k="https:"+k:k="http:"+k),x&&(k=k+"&cu="+encodeURIComponent(N+x)),!b[$]){b[$]=1;var P=new Image;P.src=k,z("Traffic Analysis Image: "+(x||c+".TrafficImgUrl="+i.TrafficImgUrl))}}}};m&&(z(j("8HO5::覆盖导入{1}",0,c),1),m.Destroy()),e[c]=i})})(Er)),Er.exports}export{Zo as a,_e as d,Xo as p,Yo as r};
